<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEAT: Coding Conventions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FEAT<span id="projectnumber">&#160;3</span>
   </div>
   <div id="projectbrief">Finite Element Analysis Toolbox</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('coding_conventions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Coding Conventions </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This page summarizes the coding conventions used for <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a>.</p>
<dl class="section note"><dt>Note</dt><dd>This page is work-in-progress and therefore the information is incomplete.</dd></dl>
<p><b>Contents</b></p><ul>
<li><a class="el" href="coding_conventions.html#codeconv_general_conventions">1. General Conventions</a></li>
<li><a class="el" href="coding_conventions.html#codeconv_naming_conventions">2. Naming Conventions</a><ul>
<li><a class="el" href="coding_conventions.html#codeconv_nameconv_camelcase">2.1 Camel-Case</a></li>
<li><a class="el" href="coding_conventions.html#codeconv_nameconv_lower_snakecase">2.2 Lower Snake-Case</a></li>
<li><a class="el" href="coding_conventions.html#codeconv_nameconv_upper_snakecase">2.3 Upper Snake-Case</a></li>
</ul>
</li>
<li><a class="el" href="coding_conventions.html#codeconv_indent_spacing">2. Indentation, Spacing and Line Breaks</a></li>
<li><a class="el" href="coding_conventions.html#codeconv_preproc">3. Preprocessor Directives and Macros</a></li>
<li><a class="el" href="coding_conventions.html#codeconv_functions">4. Functions</a></li>
<li><a class="el" href="coding_conventions.html#codeconv_classes">5. Classes, Structs and Unions</a></li>
<li><a class="el" href="coding_conventions.html#codeconv_templates">6. Templates</a></li>
<li><a class="el" href="coding_conventions.html#codeconv_misc">8. Miscellaneous</a></li>
</ul>
<hr  />
<hr  />
 <h1><a class="anchor" id="codeconv_general_conventions"></a>
1. General Conventions</h1>
<ul>
<li><a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> 3 is written in the C++17 standard, namely: <b>ISO/IEC 14882:2017</b>. </li>
<li>All code and documentation is to be written in American English. </li>
<li>It is strongly recommended that lines should not exceed 120 characters. </li>
<li>All header and source files shall begin with the copyright disclaimer: <div class="fragment"><div class="line"><span class="comment">// FEAT3: Finite Element Analysis Toolbox, Version 3</span></div>
<div class="line"><span class="comment">// Copyright (C) 2010 - 2024 by Stefan Turek &amp; the FEAT group</span></div>
<div class="line"><span class="comment">// FEAT3 is released under the GNU General Public License version 3,</span></div>
<div class="line"><span class="comment">// see the file &#39;copyright.txt&#39; in the top level directory for details.</span></div>
</div><!-- fragment --> </li>
<li>All header files shall begin with a <code>#pragma once</code> directive directly after the initial copyright disclaimer and optional comment blocks. </li>
<li>Includes of <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> header files are to be given relative to the <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> root directory. </li>
<li>Included header file paths are to be enclosed in angle brackets &lt; &gt;. </li>
<li>One line shall not contain more than one statement. </li>
<li>Reference (&amp;) and Pointer (*) specifiers are to be positioned directly after the data type and not in front of the variable name. </li>
<li>It is recommended that only one pointer or reference is be defined per statement. </li>
<li>The keyword for the Null-Pointer is the C++11 <code>nullptr</code> and not <code>(void)*0</code>, <code>0</code> or <code>NULL</code>. </li>
<li>The usage of the <code>goto</code> statement is not allowed. </li>
<li>Assertions shall be implemented by using one of the ASSERT, ASSERTM, XASSERT and XASSERTM macros. </li>
<li>Program abortion shall be implemented by using the XABORTM macro. </li>
<li>The use of platform-dependent code switches &ndash; independent of whether at preprocessortime, compiletime or runtime &ndash; is to be kept to a minimum and each platform switch must be documented by using the (custom) <code>\platformswitch</code> doxygen command. </li>
<li>The use of <em>compiler hacks</em> is to be kept to a minimum and each compiler hack must be documented by using the (custom) <code>\compilerhack</code> doxygen command.</li>
</ul>
<hr  />
<hr  />
 <h1><a class="anchor" id="codeconv_naming_conventions"></a>
2. Naming Conventions</h1>
<p >The purpose of this section is to define three naming conventions, which are referenced frequently throughout the rest of this page.</p>
<p >The following list prescribes what type of naming convention is to be used for each language construct. </p><ul>
<li>preprocessor macros: UPPER_SNAKE_CASE </li>
<li>namespaces: CamelCase </li>
<li>class/struct/type names: CamelCase </li>
<li>template type parameters: CamelCase postfixed by a single underscore </li>
<li>template value parameters: lower_snake_case postfixed by a single underscore </li>
<li>enumeration names: CamelCase </li>
<li>enumeration values: lower_snake_case </li>
<li>variable names: lower_snake_case </li>
<li>function names: lower_snake_case </li>
<li>function parameters: lower_snake_case </li>
<li>public class member variable names: lower_snake_case </li>
<li>public class member function names: lower_snake_case </li>
<li>private/protected class member variable names: lower_snake_case prefixed by a single underscore </li>
<li>private/protected class member function names: lower_snake_case prefixed by a single underscore </li>
<li>everything else not explicitly mentioned above: lower_snake_case</li>
</ul>
<hr  />
 <h2><a class="anchor" id="codeconv_nameconv_camelcase"></a>
2.1 Camel-Case</h2>
<p ><b>Character Set</b></p><ul>
<li>latin letters: 'a' - 'z', 'A' - 'Z'</li>
<li>decimal digits: '0' - '9'</li>
</ul>
<p ><b>Definition</b><br  />
A compound of words is written in Camel-Case by capitalizing the first letter of each word and joining all words without spaces. Unless stated otherwise, the leading character must be an upper-case latin letter.</p>
<p ><b>Examples</b></p><ul>
<li><code>Convention</code> </li>
<li><code>VectorNorm</code> </li>
<li><code>MySuperClass</code> </li>
<li><code>CPlusPlus2003</code> </li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a href="http://en.wikipedia.org/wiki/CamelCase">http://en.wikipedia.org/wiki/CamelCase</a></dd></dl>
<hr  />
 <h2><a class="anchor" id="codeconv_nameconv_lower_snakecase"></a>
2.2 Lower Snake-Case</h2>
<p ><b>Character Set</b></p><ul>
<li>lower-case latin letters: 'a' - 'z'</li>
<li>decimal digits: '0' - '9'</li>
<li>underscore: '_'</li>
</ul>
<p ><b>Definition</b><br  />
A compound of words is written in lower Snake-Case by joining all words, separating them by underscores. Unless stated otherwise, the leading character must be a lower-case latin letter.</p>
<p ><b>Examples</b></p><ul>
<li><code>mathematics</code> </li>
<li><code>foo_bar</code> </li>
<li><code>my_object_pointer</code> </li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a href="https://en.wikipedia.org/wiki/Snake_case">https://en.wikipedia.org/wiki/Snake_case</a></dd></dl>
<hr  />
 <h2><a class="anchor" id="codeconv_nameconv_upper_snakecase"></a>
2.3 Upper Snake-Case</h2>
<p ><b>Character Set</b></p><ul>
<li>upper-case latin letters: 'A' - 'Z'</li>
<li>decimal digits: '0' - '9'</li>
<li>underscore: '_'</li>
</ul>
<p ><b>Definition</b><br  />
A compound of words is written in upper Snake-Case by capitalizing each word and joining all words, separating them by underscores. Unless stated otherwise, the leading character must be an upper-case latin letter.</p>
<p ><b>Examples</b></p><ul>
<li><code>FOOBAR</code> </li>
<li><code>MAKE_MONEY</code> </li>
<li><code>PRINT_TO_SCREEN</code> </li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a href="https://en.wikipedia.org/wiki/Snake_case">https://en.wikipedia.org/wiki/Snake_case</a></dd></dl>
<hr  />
<hr  />
 <h1><a class="anchor" id="codeconv_indent_spacing"></a>
2. Indentation, Spacing and Line Breaks</h1>
<ul>
<li>Indents are realized using 2 spaces; leading TABs are not allowed. In fact, leading TABs are rejected by our main repository's pre-commit hook. </li>
<li>Trailing whitespaces are not allowed and are rejected by our main repository's pre-commit hook. </li>
<li>Each source and header file shall contain a single empty line at the end of the file. Multiple empty lines are rejected by our main repository's pre-commit hook. </li>
<li>If line breaks within a statement are necessary, each line of the statement except for the first one shall have one additional indent. </li>
<li>It is permitted to use additional spaces pretty much anywhere inside a statement if the author thinks that this improves the readability of the corresponding code section. </li>
<li>It is permitted to use empty lines if the author thinks that this improves the readability of the corresponding code section. However, multiple consecutive empty lines are to be avoided. </li>
<li>The code inside a pair of curly braces { } is to be indented.<ul>
<li>Exception: The <code>private</code>, <code>protected</code> and <code>public</code> keywords in a <code>class</code> or <code>struct</code> definition as well as the <code>case</code> and <code>default</code> keywords in a <code>switch</code> statement are <b>not</b> to be indented. </li>
</ul>
</li>
<li>Each opening curly brace { shall stand alone in a separate line on the same indent as the statement that preceedes the curly brace. The commonly used C-style convention that the opening brace { is appended to the statement opening the scope shall be avoided. </li>
<li>Each closing curly brace } shall stand alone in a separate line on the same indent as the opening curly brace { that forms a pair with the closing curly brace.<ul>
<li>If a closing curly brace } denotes the end of a class/struct/union definiton, then the mandatory semicolon shall be placed directly after the curly brace in the same line. </li>
</ul>
</li>
<li>It shall not happen that two closing curly braces } in two consecutive lines differ by more or less than a single indent. This is not a rule by itself, but rather a corollary of the previous indentation rules regarding curly braces. <div class="fragment"><div class="line"><span class="keywordflow">if</span>(k == 0)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">while</span>(k &gt; 2)</div>
<div class="line">  {</div>
<div class="line">    k = (k+3) &gt;&gt; 2;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> </li>
<li>If a function or template parameter list is to be split across several lines, then all lines except for the first one shall to be indented by a single indent. <div class="fragment"><div class="line"><span class="keyword">template</span>&lt;</div>
<div class="line">  <span class="keyword">typename</span> DataType_,</div>
<div class="line">  <span class="keyword">typename</span> IndexType_&gt;</div>
<div class="line"><span class="keywordtype">void</span> foobar1(</div>
<div class="line">  DataType_* alpha,</div>
<div class="line">  DataType_* beta,</div>
<div class="line">  IndexType_ length)</div>
<div class="line">{</div>
<div class="line"> ...</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> DataType_, <span class="keyword">typename</span> IndexType_&gt;</div>
<div class="line"><span class="keywordtype">void</span> foobar2(DataType_* alpha, DataType_* beta, IndexType_ length)</div>
<div class="line">{</div>
<div class="line"> ...</div>
<div class="line">}</div>
</div><!-- fragment --> </li>
<li>Binary operators shall be enclosed by single spaces; the spaces around the multiplication asterisks and division slashes may be omitted. <div class="fragment"><div class="line">foo = (3*bar + qux/7) &gt;&gt; (k &amp; 3);</div>
</div><!-- fragment --> </li>
<li>Each comma , colon : and semicolon ; is to be followed by a space or a line break. </li>
<li>The <code>case</code> and <code>default</code> keywords in a <code>switch</code> block are to be placed on the same indent as the <code>switch</code> keyword, but all statements in a <code>case</code> or <code>default</code> block are to be indented by a single indent. </li>
<li>All <code>case</code> blocks in a <code>switch</code> statement shall either end with a <code>break</code> or a C++17 <code>[[fallthrough]]</code> statement. </li>
<li>It is recommended to insert a single empty line before each <code>case</code> and <code>default</code> block in a <code>switch</code> statement, except for the first block in that statement. <div class="fragment"><div class="line"><span class="keywordflow">switch</span>(qux)</div>
<div class="line">{</div>
<div class="line"><span class="keywordflow">case</span> 0:</div>
<div class="line">  bar = 17;</div>
<div class="line">  [[fallthrough]];</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">case</span> 1:</div>
<div class="line">  {</div>
<div class="line">    qux += 2;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">default</span>:</div>
<div class="line">  bar = 0;</div>
<div class="line">  <span class="keywordflow">break</span>;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<hr  />
<hr  />
 <h1><a class="anchor" id="codeconv_preproc"></a>
3. Preprocessor Directives and Macros</h1>
<ul>
<li>In general, the use of preprocessor macros and directives &ndash; especially dirty preprocessor hacks &ndash; shall be kept to a minimum. </li>
<li>All preprocessor directives, which are supported by <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> and which are either defined by the build system or the user, must be documented in the <a class="el" href="preproc_macros.html">Preprocessor Macros</a> page. </li>
<li>Preprocessor directives must always stand in the first column of each line, i.e. preprocessor directives are never indented. </li>
<li>The use of preprocessor directives, including preprocessor if-sections, has no impact on code indendation. </li>
<li>It it recommended that each <code>#else</code> and <code>#endif</code> directive is appropriately commented to indicate to which <code>#if</code> block it belongs to <div class="fragment"><div class="line"><span class="keywordtype">void</span> foobar()</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#ifdef FEAT_HAVE_MPI</span></div>
<div class="line">  <span class="keywordtype">int</span> my_rank = Dist::Comm::world().rank();</div>
<div class="line">  <span class="keywordflow">if</span>(my_rank == 0)</div>
<div class="line">  {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Hello World from master!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">  {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Hello World from slave &quot;</span> &lt;&lt; my_rank &lt;&lt; <span class="stringliteral">&quot; in debug mode!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">// DEBUG</span></div>
<div class="line"><span class="preprocessor">#else </span><span class="comment">// no FEAT_HAVE_MPI</span></div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Hello Serial World!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">// FEAT_HAVE_MPI</span></div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<hr  />
<hr  />
 <h1><a class="anchor" id="codeconv_functions"></a>
4. Functions</h1>
<hr  />
<hr  />
 <h1><a class="anchor" id="codeconv_classes"></a>
5. Classes, Structs and Unions</h1>
<ul>
<li>Class, struct and union names are to be written in CamelCase. </li>
<li>Multiple inheritance shall be avoided. </li>
<li>Member variables and member functions are to be written in lower_snake_case. </li>
<li>Private or protected member variable and member function names are to be prefixed by a single underscore. </li>
<li>Nested type declarations (classes, structs, unions, enums, typedefs) are also to be written in CamelCase. Protected and private nested type declarations are <b>not</b> to be prefixed by underscores. </li>
<li>User-defined constructors shall be declared <code>explicit</code> unless implicit conversion is explicitly desired. </li>
<li>It is encouraged that the contents of a class or struct definition are structured in the following order:<ol type="1">
<li>nested type declarations</li>
<li>member variables</li>
<li>member functions </li>
</ol>
</li>
<li>Member variables and nested type declarations shall not be scattered across the class/struct definition body between member functions but instead shall be grouped into coherent blocks even if the author chooses to disobey the previous rule. </li>
<li>The <code>private</code>, <code>protected</code> and <code>public</code> keywords in a <code>class</code> or <code>struct</code> are to be placed on the same indent as the <code>class/struct</code> keyword: <div class="fragment"><div class="line"><span class="keyword">class </span>FooBar</div>
<div class="line">{</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <span class="keywordtype">int</span> _my_value;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">  <span class="keywordtype">void</span> _reset_value()</div>
<div class="line">  {</div>
<div class="line">    _my_value = 0;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">explicit</span> FooBar(<span class="keywordtype">int</span> value) :</div>
<div class="line">    _my_value(value)</div>
<div class="line">  {</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">int</span> get_value()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">  </span>{</div>
<div class="line">    <span class="keywordflow">return</span> _my_value;</div>
<div class="line">  }</div>
<div class="line">}; <span class="comment">// class FooBar</span></div>
</div><!-- fragment --> </li>
<li>It is recommended that the final closing curly brace of a class definition is followed by a short comment containing the class name.</li>
</ul>
<hr  />
<hr  />
 <h1><a class="anchor" id="codeconv_templates"></a>
6. Templates</h1>
<hr  />
<hr  />
 <h1><a class="anchor" id="codeconv_namespace"></a>
7. Namespaces</h1>
<ul>
<li>The usage of <code>using namespace</code> at namespace scope is not allowed in header files.<ul>
<li>However, <code>using namespace</code> is allowed to be used at class or function scope.</li>
</ul>
</li>
</ul>
<hr  />
<hr  />
 <h1><a class="anchor" id="codeconv_misc"></a>
8. Miscellaneous</h1>
<ul>
<li>Enumerations shall be defined as C++11 <code>enum class</code> constructs. The use of the classical C-style non-class enum is not allowed. </li>
<li>Enumeration names are to be written in CamelCase whereas enumeration values are to be written in lower_snake_case: <div class="fragment"><div class="line"><span class="keyword">enum class</span> PlaceHolder</div>
<div class="line">{</div>
<div class="line">  foo_bar = 0,</div>
<div class="line">  zumba_dance</div>
<div class="line">};</div>
</div><!-- fragment --> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
