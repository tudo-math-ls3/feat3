<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEAT: FEAT::Assembly::DomainAssemblyJob::Task Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FEAT<span id="projectnumber">&#160;3</span>
   </div>
   <div id="projectbrief">Finite Element Analysis Toolbox</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">FEAT::Assembly::DomainAssemblyJob::Task Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Domain assembly task class.  
 <a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="domain__assembler_8hpp_source.html">domain_assembler.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a720e1b6f35f6999414249ac3f0a23399"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a720e1b6f35f6999414249ac3f0a23399">Task</a> (<a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job.html">DomainAssemblyJob</a> &amp;job)</td></tr>
<tr class="memdesc:a720e1b6f35f6999414249ac3f0a23399"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mandatory Constructor.  <a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a720e1b6f35f6999414249ac3f0a23399">More...</a><br /></td></tr>
<tr class="separator:a720e1b6f35f6999414249ac3f0a23399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d64a2f88bf0f02202465bcc89fa4261"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a4d64a2f88bf0f02202465bcc89fa4261">assemble</a> ()</td></tr>
<tr class="memdesc:a4d64a2f88bf0f02202465bcc89fa4261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the local assembly on the current cell.  <a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a4d64a2f88bf0f02202465bcc89fa4261">More...</a><br /></td></tr>
<tr class="separator:a4d64a2f88bf0f02202465bcc89fa4261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c463c5d4e1cf69b60ff25791b01d24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a39c463c5d4e1cf69b60ff25791b01d24">combine</a> ()</td></tr>
<tr class="memdesc:a39c463c5d4e1cf69b60ff25791b01d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes the overall assembly and combines all local results.  <a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a39c463c5d4e1cf69b60ff25791b01d24">More...</a><br /></td></tr>
<tr class="separator:a39c463c5d4e1cf69b60ff25791b01d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1086ca0cde0b36f53977a570dc4ec0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a1b1086ca0cde0b36f53977a570dc4ec0">finish</a> ()</td></tr>
<tr class="memdesc:a1b1086ca0cde0b36f53977a570dc4ec0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes the task on the current cell.  <a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a1b1086ca0cde0b36f53977a570dc4ec0">More...</a><br /></td></tr>
<tr class="separator:a1b1086ca0cde0b36f53977a570dc4ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4786529216d37b6dc44fdcacde9232"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a8d4786529216d37b6dc44fdcacde9232">prepare</a> (<a class="el" href="namespace_f_e_a_t.html#aea15318a59381180ea8b771242a3bbe1">Index</a> cell)</td></tr>
<tr class="memdesc:a8d4786529216d37b6dc44fdcacde9232"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares the task for assembly on a element/cell.  <a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a8d4786529216d37b6dc44fdcacde9232">More...</a><br /></td></tr>
<tr class="separator:a8d4786529216d37b6dc44fdcacde9232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb595bc13b8b96870cf565e60276324f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#abb595bc13b8b96870cf565e60276324f">scatter</a> ()</td></tr>
<tr class="memdesc:abb595bc13b8b96870cf565e60276324f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scatters the local assembly into the global system.  <a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#abb595bc13b8b96870cf565e60276324f">More...</a><br /></td></tr>
<tr class="separator:abb595bc13b8b96870cf565e60276324f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ad92d9f4174acb3afcd1b2d2863de7f4b"><td class="memItemLeft" align="right" valign="top">static constexpr bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ad92d9f4174acb3afcd1b2d2863de7f4b">need_combine</a> = true or false</td></tr>
<tr class="memdesc:ad92d9f4174acb3afcd1b2d2863de7f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies whether this task fas a <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a39c463c5d4e1cf69b60ff25791b01d24" title="Finishes the overall assembly and combines all local results.">combine()</a> function, which is required to be called from within a critical section after the overall assembly is finished.  <a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ad92d9f4174acb3afcd1b2d2863de7f4b">More...</a><br /></td></tr>
<tr class="separator:ad92d9f4174acb3afcd1b2d2863de7f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46bb91fd5d6dc1421bb283a6ad174ab"><td class="memItemLeft" align="right" valign="top">static constexpr bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ac46bb91fd5d6dc1421bb283a6ad174ab">need_scatter</a> = true or false</td></tr>
<tr class="memdesc:ac46bb91fd5d6dc1421bb283a6ad174ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies whether this task has a <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#abb595bc13b8b96870cf565e60276324f" title="Scatters the local assembly into the global system.">scatter()</a> function, which is required to be called from within a critical section after the local assembly on each cell.  <a href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ac46bb91fd5d6dc1421bb283a6ad174ab">More...</a><br /></td></tr>
<tr class="separator:ac46bb91fd5d6dc1421bb283a6ad174ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Domain assembly task class. </p>
<dl class="section attention"><dt>Attention</dt><dd>This class is only defined for the doxygen documentation, because it only serves as a duck-type class interface documentation.</dd></dl>
<p>An instance of this <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html" title="Domain assembly task class.">Task</a> class is created by each worker thread at the beginning of the assembly process and is used to perform the assembly on the set of the elements that are assigned to that particular worker thread.</p>
<p >At the very least, this class contains a mandatory constructor, the five member functions <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a8d4786529216d37b6dc44fdcacde9232" title="Prepares the task for assembly on a element/cell.">prepare()</a>, <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a4d64a2f88bf0f02202465bcc89fa4261" title="Performs the local assembly on the current cell.">assemble()</a>, <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#abb595bc13b8b96870cf565e60276324f" title="Scatters the local assembly into the global system.">scatter()</a>, <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a1b1086ca0cde0b36f53977a570dc4ec0" title="Finishes the task on the current cell.">finish()</a> and <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a39c463c5d4e1cf69b60ff25791b01d24" title="Finishes the overall assembly and combines all local results.">combine()</a> as well as two constexpr members <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ac46bb91fd5d6dc1421bb283a6ad174ab" title="Specifies whether this task has a scatter() function, which is required to be called from within a cr...">need_scatter</a> and <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ad92d9f4174acb3afcd1b2d2863de7f4b" title="Specifies whether this task fas a combine() function, which is required to be called from within a cr...">need_combine</a>, which determine whether the scatter and combine functions have to be called by the domain assembler at all. All member functions except for <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#abb595bc13b8b96870cf565e60276324f" title="Scatters the local assembly into the global system.">scatter()</a> and <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a39c463c5d4e1cf69b60ff25791b01d24" title="Finishes the overall assembly and combines all local results.">combine()</a> are silently assumed to be thread-safe.</p>
<p ><b><u>Basic Job <a class="el" href="namespace_f_e_a_t_1_1_assembly.html" title="Assembly namespace.">Assembly</a> workflow:</u></b><br  />
Each worker thread employed by the domain assembler will perform the following (simplified) steps: </p><div class="fragment"><div class="line"><span class="comment">// create a Task object for this worker thread</span></div>
<div class="line">Job::Task task(job);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// loop over all cells of this worker thread</span></div>
<div class="line"><span class="keywordflow">for</span>(<span class="keyword">auto</span> cell : this_workers_cell_list)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// prepare task for assembly on current cell</span></div>
<div class="line">  task.prepare(cell);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// assemble on current cell</span></div>
<div class="line">  task.assemble();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// does the task need to scatter?</span></div>
<div class="line">  <span class="keywordflow">if</span>(task.need_scatter)</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// scatter local data</span></div>
<div class="line">    neighbor_mutex.lock();</div>
<div class="line">    task.scatter();</div>
<div class="line">    neighbor_mutex.unlock();</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// finish assembly on current cell</span></div>
<div class="line">  task.finish();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// does the task need to combine?</span></div>
<div class="line"><span class="keywordflow">if</span>(task.need_combine)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// combine local data</span></div>
<div class="line">  domain_mutex.lock();</div>
<div class="line">  task.combine();</div>
<div class="line">  domain_mutex.unlock();</div>
<div class="line">}</div>
</div><!-- fragment --><p> In the pseudo-code above, the code lines between <code>neighbor_mutex.lock()</code> and <code>neighbor_mutex.unlock()</code> are executed in a neighbor-mutually exclusive fashion, i.e. it is guaranteed that this code (<code>task.scatter()</code>) is never executed by two threads, which are active on two neighbor elements, at the same time. However, the code may be executed by two threads simultaneously if the cells, that the two threads are currently active on, are not adjacent to each other.<br  />
Furthermore, the code lines between <code>domain_mutex.lock()</code> and <code>domain_mutex.unlock()</code> are executed in a (domain-) mutually exclusive fashion, i.e. it is guaranteed that this code (<code>task.combine()</code>) is never executed by two threads at the same time.</p>
<dl class="section author"><dt>Author</dt><dd>Peter Zajac </dd></dl>

<p class="definition">Definition at line <a class="el" href="domain__assembler_8hpp_source.html#l00240">240</a> of file <a class="el" href="domain__assembler_8hpp_source.html">domain_assembler.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a720e1b6f35f6999414249ac3f0a23399" name="a720e1b6f35f6999414249ac3f0a23399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a720e1b6f35f6999414249ac3f0a23399">&#9670;&#160;</a></span>Task()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FEAT::Assembly::DomainAssemblyJob::Task::Task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job.html">DomainAssemblyJob</a> &amp;&#160;</td>
          <td class="paramname"><em>job</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mandatory Constructor. </p>
<p >This constructor is used by each of the domain assemblers worker threads to create its own task object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">job</td><td>A <a class="el" href="resident_vs_transient.html#res_vs_tran_resident">resident</a> reference to the encapsulating job class object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This constructor is silently assumed to be thread-safe, i.e. no thread may try to write to a common shared resource inside this function (without manual mutexing). </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4d64a2f88bf0f02202465bcc89fa4261" name="a4d64a2f88bf0f02202465bcc89fa4261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d64a2f88bf0f02202465bcc89fa4261">&#9670;&#160;</a></span>assemble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FEAT::Assembly::DomainAssemblyJob::Task::assemble </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the local assembly on the current cell. </p>
<p >This function is called by the assembly worker thread directly after the <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a8d4786529216d37b6dc44fdcacde9232" title="Prepares the task for assembly on a element/cell.">prepare()</a> function and is typically used to perform the actual local assembly, i.e. this is where most of the magic happens.</p>
<dl class="section attention"><dt>Attention</dt><dd>This function is silently assumed to be thread-safe, i.e. no thread may try to write to a common shared resource inside this function (without manual mutexing). </dd></dl>

</div>
</div>
<a id="a39c463c5d4e1cf69b60ff25791b01d24" name="a39c463c5d4e1cf69b60ff25791b01d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39c463c5d4e1cf69b60ff25791b01d24">&#9670;&#160;</a></span>combine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FEAT::Assembly::DomainAssemblyJob::Task::combine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes the overall assembly and combines all local results. </p>
<p >This function is called once per assembly run after the worker thread has finished assembling all its cells. This function can be used to collect (or reduce) the information assembled in each task into a combined result in the job object.</p>
<dl class="section note"><dt>Note</dt><dd>This function is called by the worker threads in a mutually exclusive fashion, i.e. this function is never called by two threads at the same time, so accessing a common resource shared by all threads is safe inside this function.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This function is only called by the assembler if <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ad92d9f4174acb3afcd1b2d2863de7f4b" title="Specifies whether this task fas a combine() function, which is required to be called from within a cr...">need_combine</a> is true, however, it must always exist even if <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ad92d9f4174acb3afcd1b2d2863de7f4b" title="Specifies whether this task fas a combine() function, which is required to be called from within a cr...">need_combine</a> is false to prevent linker errors. </dd></dl>

</div>
</div>
<a id="a1b1086ca0cde0b36f53977a570dc4ec0" name="a1b1086ca0cde0b36f53977a570dc4ec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1086ca0cde0b36f53977a570dc4ec0">&#9670;&#160;</a></span>finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FEAT::Assembly::DomainAssemblyJob::Task::finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes the task on the current cell. </p>
<p >This function is called by the assembly worker thread after the <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#abb595bc13b8b96870cf565e60276324f" title="Scatters the local assembly into the global system.">scatter()</a> function and is typically only used to call the finish member functions of all corresponding member functions like e.g. evaluators.</p>
<dl class="section attention"><dt>Attention</dt><dd>This function is silently assumed to be thread-safe, i.e. no thread may try to write to a common shared resource inside this function (without manual mutexing). </dd></dl>

</div>
</div>
<a id="a8d4786529216d37b6dc44fdcacde9232" name="a8d4786529216d37b6dc44fdcacde9232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4786529216d37b6dc44fdcacde9232">&#9670;&#160;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FEAT::Assembly::DomainAssemblyJob::Task::prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_f_e_a_t.html#aea15318a59381180ea8b771242a3bbe1">Index</a>&#160;</td>
          <td class="paramname"><em>cell</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares the task for assembly on a element/cell. </p>
<p >This function is called by the assembly worker thread each time the assembly on a new element begins. This function is typically used to gather various local data from the mesh and/or linear algebra containers prior to the actual local assembly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cell</td><td>The index of the mesh element/cell that the following assembly is going to take place on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function is silently assumed to be thread-safe, i.e. no thread may try to write to a common shared resource inside this function (without manual mutexing). </dd></dl>

</div>
</div>
<a id="abb595bc13b8b96870cf565e60276324f" name="abb595bc13b8b96870cf565e60276324f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb595bc13b8b96870cf565e60276324f">&#9670;&#160;</a></span>scatter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FEAT::Assembly::DomainAssemblyJob::Task::scatter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scatters the local assembly into the global system. </p>
<p >This function is called by the assembly worker thread after the <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a4d64a2f88bf0f02202465bcc89fa4261" title="Performs the local assembly on the current cell.">assemble()</a> function and is typically used to scatter the local (i.e. element-wise) assembled data into a global (i.e. mesh/patch-wise) container.</p>
<dl class="section note"><dt>Note</dt><dd>This function is called by the worker threads in a neighbor-mutually exclusive fashion, i.e. this function is never called by two (or more) threads at the same time, which are active on vertex-adjacent elements. This ensures that no race condition can appear when scattering a local matrix/vector into a global matrix/vector.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This function is only called by the assembler if <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ac46bb91fd5d6dc1421bb283a6ad174ab" title="Specifies whether this task has a scatter() function, which is required to be called from within a cr...">need_scatter</a> is true, however, it must always exist even if <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#ac46bb91fd5d6dc1421bb283a6ad174ab" title="Specifies whether this task has a scatter() function, which is required to be called from within a cr...">need_scatter</a> is false to prevent linker errors. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad92d9f4174acb3afcd1b2d2863de7f4b" name="ad92d9f4174acb3afcd1b2d2863de7f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad92d9f4174acb3afcd1b2d2863de7f4b">&#9670;&#160;</a></span>need_combine</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr bool FEAT::Assembly::DomainAssemblyJob::Task::need_combine = true or false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Specifies whether this task fas a <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#a39c463c5d4e1cf69b60ff25791b01d24" title="Finishes the overall assembly and combines all local results.">combine()</a> function, which is required to be called from within a critical section after the overall assembly is finished. </p>

<p class="definition">Definition at line <a class="el" href="domain__assembler_8hpp_source.html#l00253">253</a> of file <a class="el" href="domain__assembler_8hpp_source.html">domain_assembler.hpp</a>.</p>

</div>
</div>
<a id="ac46bb91fd5d6dc1421bb283a6ad174ab" name="ac46bb91fd5d6dc1421bb283a6ad174ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac46bb91fd5d6dc1421bb283a6ad174ab">&#9670;&#160;</a></span>need_scatter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr bool FEAT::Assembly::DomainAssemblyJob::Task::need_scatter = true or false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Specifies whether this task has a <a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html#abb595bc13b8b96870cf565e60276324f" title="Scatters the local assembly into the global system.">scatter()</a> function, which is required to be called from within a critical section after the local assembly on each cell. </p>

<p class="definition">Definition at line <a class="el" href="domain__assembler_8hpp_source.html#l00247">247</a> of file <a class="el" href="domain__assembler_8hpp_source.html">domain_assembler.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>kernel/assembly/<a class="el" href="domain__assembler_8hpp_source.html">domain_assembler.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_f_e_a_t.html">FEAT</a></li><li class="navelem"><a class="el" href="namespace_f_e_a_t_1_1_assembly.html">Assembly</a></li><li class="navelem"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job.html">DomainAssemblyJob</a></li><li class="navelem"><a class="el" href="class_f_e_a_t_1_1_assembly_1_1_domain_assembly_job_1_1_task.html">Task</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
