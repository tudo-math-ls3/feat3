<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEAT: FEATS&#39;s Thirdparty Dependencies</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FEAT<span id="projectnumber">&#160;3</span>
   </div>
   <div id="projectbrief">Finite Element Analysis Toolbox</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('feat_tpls.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">FEATS's Thirdparty Dependencies </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This page describes how to build FEAT3 with thirdparty dependencies using FEATs <a href="https://cmake.org/">CMake</a> build system. The main text will walk you through using the configure script to enable and manage thirdparty dependencies. Throughout the text are note sections. These contain additional information about the inner working of the CMake build system for experienced CMake users. If you only plan on using the configure script, you can safely skip these.</p>
<h1><a class="anchor" id="Reference"></a>
Reference</h1>
<p >Reference table of supported thirdparty dependencies:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Dependency   </th><th class="markdownTableHeadNone">Build-id tag   </th><th class="markdownTableHeadNone">CMake flag   </th><th class="markdownTableHeadNone">&lt;TPL&gt;_DIR   </th><th class="markdownTableHeadNone">Link   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Alglib   </td><td class="markdownTableBodyNone">alglib   </td><td class="markdownTableBodyNone">FEAT_HAVE_ALGLIB   </td><td class="markdownTableBodyNone">Alglib_DIR   </td><td class="markdownTableBodyNone"><a href="https://www.alglib.net/">https://www.alglib.net/</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Boost   </td><td class="markdownTableBodyNone">boost   </td><td class="markdownTableBodyNone">FEAT_HAVE_BOOST   </td><td class="markdownTableBodyNone">Boost_DIR   </td><td class="markdownTableBodyNone"><a href="https://www.boost.org/">https://www.boost.org/</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CGAL   </td><td class="markdownTableBodyNone">cgal   </td><td class="markdownTableBodyNone">FEAT_HAVE_CGAL   </td><td class="markdownTableBodyNone">CGAL_DIR   </td><td class="markdownTableBodyNone"><a href="https://www.cgal.org/">https://www.cgal.org/</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">cuDSS   </td><td class="markdownTableBodyNone">cudss   </td><td class="markdownTableBodyNone">FEAT_HAVE_CUDSS   </td><td class="markdownTableBodyNone">cudss_DIR   </td><td class="markdownTableBodyNone"><a href="https://developer.nvidia.com/cudss">https://developer.nvidia.com/cudss</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">deathhandler   </td><td class="markdownTableBodyNone">deathhandler   </td><td class="markdownTableBodyNone">FEAT_HAVE_DEATHHANDLER   </td><td class="markdownTableBodyNone">death_handler_DIR   </td><td class="markdownTableBodyNone"><a href="https://github.com/vmarkovtsev/DeathHandler">https://github.com/vmarkovtsev/DeathHandler</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">fparser   </td><td class="markdownTableBodyNone">fparser   </td><td class="markdownTableBodyNone">FEAT_HAVE_FPARSER   </td><td class="markdownTableBodyNone">fparser_DIR   </td><td class="markdownTableBodyNone"><a href="http://warp.povusers.org/FunctionParser/">http://warp.povusers.org/FunctionParser/</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">floatx   </td><td class="markdownTableBodyNone">floatx   </td><td class="markdownTableBodyNone">FEAT_HAVE_FLOATX   </td><td class="markdownTableBodyNone">FloatX_DIR   </td><td class="markdownTableBodyNone"><a href="https://github.com/oprecomp/FloatX">https://github.com/oprecomp/FloatX</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hypre   </td><td class="markdownTableBodyNone">hypre   </td><td class="markdownTableBodyNone">FEAT_HAVE_HYPRE   </td><td class="markdownTableBodyNone">HYPRE_DIR   </td><td class="markdownTableBodyNone"><a href="https://github.com/hypre-space/hypre">https://github.com/hypre-space/hypre</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ParMETIS   </td><td class="markdownTableBodyNone">metis   </td><td class="markdownTableBodyNone">FEAT_HAVE_PARMETIS   </td><td class="markdownTableBodyNone">parmetis_DIR   </td><td class="markdownTableBodyNone"><a href="https://github.com/KarypisLab/ParMETIS">https://github.com/KarypisLab/ParMETIS</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SuperLU (dist)   </td><td class="markdownTableBodyNone">superlu   </td><td class="markdownTableBodyNone">FEAT_HAVE_SUPERLU_DIST   </td><td class="markdownTableBodyNone">superlu_DIR   </td><td class="markdownTableBodyNone"><a href="https://github.com/xiaoyeli/superlu_dist">https://github.com/xiaoyeli/superlu_dist</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Triangle   </td><td class="markdownTableBodyNone">triangle   </td><td class="markdownTableBodyNone">FEAT_HAVE_TRIANGLE   </td><td class="markdownTableBodyNone">triangle_DIR   </td><td class="markdownTableBodyNone"><a href="https://github.com/libigl/triangle">https://github.com/libigl/triangle</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">UMFPACK   </td><td class="markdownTableBodyNone">umfpack   </td><td class="markdownTableBodyNone">FEAT_HAVE_UMFPACK   </td><td class="markdownTableBodyNone">UMFPACK_DIR   </td><td class="markdownTableBodyNone"><a href="https://github.com/DrTimothyAldenDavis/SuiteSparse">https://github.com/DrTimothyAldenDavis/SuiteSparse</a>   </td><td class="markdownTableBodyNone">Must be built with MKL, if <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> uses MKL    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">zlib   </td><td class="markdownTableBodyNone">zlib   </td><td class="markdownTableBodyNone">FEAT_HAVE_ZLIB   </td><td class="markdownTableBodyNone">zlib_DIR   </td><td class="markdownTableBodyNone"><a href="https://zlib.net/">https://zlib.net/</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Zoltan   </td><td class="markdownTableBodyNone">zoltan   </td><td class="markdownTableBodyNone">FEAT_HAVE_ZOLTAN   </td><td class="markdownTableBodyNone">zoltan_DIR   </td><td class="markdownTableBodyNone"><a href="https://sandialabs.github.io/Zoltan/">https://sandialabs.github.io/Zoltan/</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">zfp   </td><td class="markdownTableBodyNone">zfp   </td><td class="markdownTableBodyNone">FEAT_HAVE_ZFP   </td><td class="markdownTableBodyNone">zfp_DIR   </td><td class="markdownTableBodyNone"><a href="https://github.com/LLNL/zfp">https://github.com/LLNL/zfp</a>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PMP   </td><td class="markdownTableBodyNone">pmp   </td><td class="markdownTableBodyNone">FEAT_HAVE_PMP   </td><td class="markdownTableBodyNone">pmp_DIR   </td><td class="markdownTableBodyNone"><a href="https://www.pmp-library.org/">https://www.pmp-library.org/</a>   </td><td class="markdownTableBodyNone"></td></tr>
</table>
<h1><a class="anchor" id="enabling_tpls"></a>
Enabling thirdparty dependencies</h1>
<p >This document assumes that you are familiar with basic usage of the FEAT3 configure script such as producing debug and release builds with different compilers. You can enable additional features, such as MPI support, the UMFPACK solver, or data compression via zlib, by adding additional tags to the build-id you pass to the configure script. As an example, to build FEAT3 with the UMFPACK solver you can configure it as</p>
<pre class="fragment">/path/to/configure gcc-opt-umfpack
</pre><p >to receive a build system that will build FEAT3 with the GCC C++ compiler, with optimizations and the UMFPACK solver. Certain thirdparty dependencies depend on each other. The ParMETIS partitioner for example, requires you to also enable MPI. The configure script will warn you in these cases.</p>
<dl class="section note"><dt>Note</dt><dd>Internally dependencies are tracked using a set of flags in the CMake cache. These flags are named FEAT_HAVE_&lt;TPL&gt;. If you already have a configured build directory, you can also add or disable thirdparty dependencies by toggling these flags in the CMake cache and then reconfiguring your build system.</dd></dl>
<h1><a class="anchor" id="including_tpls"></a>
Resolving thirdparty dependencies</h1>
<p >The CMake build system will do its best to fulfill the third party dependencies you requested. By default dependencies are first searched for among the libraries installed on the system. If a dependency can not be fulfilled that way, CMake will download the dependency itself and include it in the FEAT3 build.</p>
<h2><a class="anchor" id="including_tpls_finding"></a>
Finding thirdparty dependencies</h2>
<p >CMake will search for thirdparty dependencies in the usual install directories.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> relies on the <a href="https://cmake.org/cmake/help/latest/manual/cmake-packages.7.html">CMake packages</a> exported by thirdparty dependencies, if possible. <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> ships with custom FindModules For any thirdparty dependency that does not produce a CMake package on installation.</dd></dl>
<p>You can specify an additional directory that <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> will consider if searching for thirdparty dependencies. To do so, pass the directory to the configure script using the <code>--package_install_dir</code> option.</p>
<pre class="fragment">path/to/configure gcc-opt-umfpack --package_install_dir=path/to/umfpack
</pre><dl class="section note"><dt>Note</dt><dd>The <code>--package_install_dir</code> option sets the given path as the <a href="https://cmake.org/cmake/help/latest/variable/CMAKE_PREFIX_PATH.html"><code>CMAKE_INSTALL_PREFIX</code> </a>.</dd></dl>
<p>If you do not want CMake to search among the installed libraries, and instead want it to download all dependencies itself, you can pass the <code>&ndash;no_external_libs</code> flag to the configure script. Doing so will stop CMake from searching for installed libraries.</p>
<pre class="fragment">path/to/configure gcc-opt-umfpack --no_external_libs
</pre><dl class="section note"><dt>Note</dt><dd>The <code>--no_external_libs</code> flag sets the CMake flag <code>FEAT_PREFER_EXTERNAL_TPL</code> to <code>OFF</code> </dd></dl>
<p>If you want CMake to only use the locally installed versions of some libraries, but download all others, you can first disable searching for any thirdparty library using the <code>--no_external_libs</code> flag of the configure script. You can then manually set the directories of all thirdparty dependencies that you do not want CMake to download. To do so, you have to set the corresponding <code></code> &lt;TPL&gt;_DIR variables (see the <code></code> &lt;TPL&gt;_DIR column of the table above). The configure script provides a way to fill the CMake cache with an initial set of values, allowing you to set these variables without having to configure a build system beforehand. First create a CMake script that sets up the initial cache. For example:</p>
<pre class="fragment">cat &gt; initial-cache.cmake &lt;&lt;EOF
set(UMFPACK_DIR "path/to/umfpack" CACHE STRING "Umfpack override path")
EOF
</pre><p >You can then use this script to populate the initial cache using the <code>&ndash;initial-cache-file</code> option of the configure script, like so</p>
<pre class="fragment">path/to/configure gcc-opt-umfpack-hypre --no_external_libs --initial-cache-file=initial-cache.cmake
</pre><p >CMake will then find and use the preinstalled UMFPACK, and download and build HYPRE.</p>
<h2><a class="anchor" id="including_tpls_dowloading"></a>
Downloading thirdparty dependencies</h2>
<p >Thirdparty dependencies that could not be found on the system will be downloaded and included in the build. For some of the thirdparty depedencies <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> can make use of the depedencies build system. In these cases the configure output of the dependency will be part of FEATs configure output. This is intended.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> fetches any missing dependencies at configure time using the <a href="https://cmake.org/cmake/help/latest/module/FetchContent.html">FetchContent</a> module. For dependencies that support doing so, the dependencies CMake build system is directly added as a sub-build. For other dependencies <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> works around the dependency and manually builds it "from the outside". Apart from the configure output, the difference is invisible to the user.</dd></dl>
<p>CMake will create a <code>_deps</code> directory inside your build directory. This directory will contain the donwloaded (and extracted) thirdparty dependencies, as well as the build directories for these dependencies.</p>
<dl class="section note"><dt>Note</dt><dd>The location (and name) of the <code>_deps</code> folder is determined by the <code>FETCHCONTENT_BASE_DIR</code> CMake variable.</dd></dl>
<p>If you do not want <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> to download any thirdparty dependencies, you can disable this behaviour via the <code>--no_external_download</code> flag of the configure script. In this case all requested thirdparty dependencies have to be installed and findable, otherwise the configuring fails.</p>
<pre class="fragment">path/to/configure gcc-opt --no_external_download
</pre><dl class="section note"><dt>Note</dt><dd>The <code>--no-external-download</code> flag sets the <code>FEAT_NO_EXTERNAL_DOWNLOAD</code> CMake flag to <code>ON</code> </dd></dl>
<h1><a class="anchor" id="developing_feat"></a>
For FEAT developers</h1>
<p >Thirdparty dependency support is implemented in <code>thirdparty/CMakeLists.txt</code>. Find modules and other scripts are located in <code>build_system/cmake</code>.</p>
<dl class="section author"><dt>Author</dt><dd>Markus Muegge </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
