<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEAT: FEAT Mesh File Format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FEAT<span id="projectnumber">&#160;3</span>
   </div>
   <div id="projectbrief">Finite Element Analysis Toolbox</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('mesh_file_format.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> Mesh File Format </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#meshfile_basic">Basic Information</a><ul><li class="level2"><a href="#meshfile_basic_terminology">Mesh Terminology</a></li>
<li class="level2"><a href="#meshfile_basic_topology">Mesh Topology</a><ul><li class="level3"><a href="#meshfile_shape_numbering_tria">Triangle Topology Ordering</a></li>
<li class="level3"><a href="#meshfile_shape_numbering_quad">Quadrilateral Topology Ordering</a></li>
<li class="level3"><a href="#meshfile_shape_numbering_tetra">Tetrahedral Topology Ordering</a></li>
<li class="level3"><a href="#meshfile_shape_numbering_hexa">Hexahedral Topology Ordering</a></li>
</ul>
</li>
<li class="level2"><a href="#meshfile_parameterization">Boundary Parameterization by Charts and Mesh-Parts</a><ul><li class="level3"><a href="#meshfile_parameterization_explicit">Boundary Adaption by Explicit Parameterization</a></li>
<li class="level3"><a href="#meshfile_parameterization_implicit">Boundary Adaption by Implicit Parameterization</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#meshfile_file_structure">Overall Mesh File Structure</a><ul><li class="level2"><a href="#meshfile_meshtype">Mesh Type Specification</a></li>
</ul>
</li>
<li class="level1"><a href="#meshfile_root">Mesh File Root XML Node Description</a><ul><li class="level2"><a href="#meshfile_root_examples">Examples</a></li>
</ul>
</li>
<li class="level1"><a href="#meshfile_info">Info XML Node Description</a></li>
<li class="level1"><a href="#meshfile_charts">Chart XML Node Description</a><ul><li class="level2"><a href="#meshfile_chart_circle">2D Circle Chart Description</a><ul><li class="level3"><a href="#meshfile_chart_circle_param">2D Circle Parameterization</a></li>
<li class="level3"><a href="#meshfile_chart_circle_examples">2D Circle Chart Examples</a></li>
</ul>
</li>
<li class="level2"><a href="#meshfile_chart_sphere">3D Sphere Chart Description</a><ul><li class="level3"><a href="#meshfile_chart_sphere_examples">3D Sphere Chart Examples</a></li>
</ul>
</li>
<li class="level2"><a href="#meshfile_chart_bezier">2D Bezier Chart Description</a><ul><li class="level3"><a href="#meshfile_chart_bezier_points">Bezier Points</a></li>
<li class="level3"><a href="#meshfile_chart_bezier_params">Bezier Parameters</a></li>
<li class="level3"><a href="#meshfile_chart_bezier_examples">2D Bezier Chart Examples</a></li>
</ul>
</li>
<li class="level2"><a href="#meshfile_chart_surfmesh">3D SurfaceMesh Chart Description</a><ul><li class="level3"><a href="#meshfile_chart_surfmesh_examples">3D SurfaceMesh Chart Examples</a></li>
</ul>
</li>
<li class="level2"><a href="#meshfile_chart_extrude">3D Extrude Chart Description</a><ul><li class="level3"><a href="#meshfile_chart_extrude_transform">Transformation</a></li>
<li class="level3"><a href="#meshfile_chart_extrude_examples">3D Extrude Chart Examples</a></li>
</ul>
</li>
<li class="level2"><a href="#meshfile_chart_CGAL_surfacemesh">3D CGAL based SurfaceMesh Chart Description</a></li>
</ul>
</li>
<li class="level1"><a href="#meshfile_mesh">Mesh XML Node Description</a><ul><li class="level2"><a href="#meshfile_mesh_vertices">Vertices Sub-Node Description</a></li>
<li class="level2"><a href="#meshfile_mesh_topology">Topology Sub-Node Description</a></li>
<li class="level2"><a href="#meshfile_mesh_examples">Mesh Examples</a><ul><li class="level3"><a href="#meshfile_mesh_examples_2d_unit_square_quad">2D Quadrilateral Unit-Square</a></li>
<li class="level3"><a href="#meshfile_mesh_examples_2d_unit_circle_tria">2D Triangle Unit-Circle</a></li>
<li class="level3"><a href="#meshfile_mesh_examples_3d_cube_hexa">3D Hexahedral Unit-Cube</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#meshfile_meshpart">MeshPart XML Node Description</a><ul><li class="level2"><a href="#meshfile_meshpart_mapping">Mapping Sub-Node Description</a></li>
<li class="level2"><a href="#meshfile_meshpart_topology">Topology Description</a></li>
<li class="level2"><a href="#meshfile_meshpart_attribute">Attribute Description</a></li>
<li class="level2"><a href="#meshfile_meshpart_examples">MeshPart Examples</a><ul><li class="level3"><a href="#meshfile_meshpart_example_unit_square_simple">2D Unit-Square Top Edge Mesh-Part</a></li>
<li class="level3"><a href="#meshfile_meshpart_example_unit_circle">2D Unit-Circle Boundary Mesh-Part</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#meshfile_partition">Partition XML Node Description</a><ul><li class="level2"><a href="#meshfile_partition_patch">Patch Sub-Node Description</a></li>
<li class="level2"><a href="#meshfile_partition_examples">Partition Examples</a><ul><li class="level3"><a href="#meshfile_partition_examples_unit_circle_tria">2D Unit-Circle Partitions</a></li>
<li class="level3"><a href="#meshfile_partition_examples_unit_square_quad">2D Unit-Square Partitions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p >This page describes the structure of the XML-based <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh file format and gives some important insights into the terminology and the internal definition of the topologies managed by the mesh classes of <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a>.</p>
<h1><a class="anchor" id="meshfile_basic"></a>
Basic Information</h1>
<p ><a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> supports both hypercube (quadrilateral &amp; hexahedral) and simplex (triangular &amp; tetrahedral) meshes in arbitrary dimensions, but it does support not hybrid meshes containing both cell types at the same time. In consequence, the <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh file format also only supports meshes of a single cell type.</p>
<h2><a class="anchor" id="meshfile_basic_terminology"></a>
Mesh Terminology</h2>
<p >In the context of meshes, the following topological terms are commonly used in <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> and throughout this page:</p><ul>
<li>(topological) <em>entity</em>: a vertex, edge, face or volume (and their higher-dimensional equivalents)</li>
<li><em>vertex</em>: a geometric point in space, topological dimension 0.</li>
<li><em>edge</em>: connection of two vertices, topological dimension 1.</li>
<li><em>face</em>: a quadrilateral (for hypercube meshes) comprised of 4 or a triangle (for simplex meshes) comprised of 3 vertices, topological dimension 2</li>
<li><em>volume</em>: a hexahedron (for hypercube meshes) comprised of 8 or a tetrahedron (for simplex meshes) comprised of 4 vertices, topological dimension 3</li>
</ul>
<p >In <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a>, topological entities are typically referenced by their topological dimension rather than their names ("edge", "triangle", etc), which is unambiguous and more consistent between hypercube and simplex meshes, which is possible because <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> does not support hybrid meshes anyways.</p>
<p >A <em>mesh</em> is defined by</p><ul>
<li>its geometry information (vertices and their coordinates) and</li>
<li>topology information (how the vertices form entities like edges, faces and volumes).</li>
</ul>
<p >In the context of meshes, the following dimension terms are used:</p><ul>
<li><em>shape dimension</em>: the dimension of the highest-dimensional entity that is contained in the mesh</li>
<li><em>world dimension</em>: the number of coordinates per vertex</li>
</ul>
<p >Usually, the shape and world dimensions are identical, however, if a mesh discretizes a surface of an object rather than the object itself, e.g. in the FEM-on-manifolds scenario, then the world dimension is greater than the shape dimension. However, the world dimension of a mesh can never be less than its shape dimension.</p>
<p >The <em>root mesh</em> (see <a class="el" href="mesh_file_format.html#meshfile_mesh">Mesh XML Node Description</a>) is a disambiguation term used for the main mesh defined by the file, which is used to discretize the computational domain that a simulation is to be performed on.</p>
<p >A <em>mesh-part</em> (see <a class="el" href="mesh_file_format.html#meshfile_meshpart">MeshPart XML Node Description</a>) represents a named and possibly parameterized sub-set of the topological entities of root mesh. Mesh-parts are used to identify certain regions of interest such as boundary regions.</p>
<p >A <em>chart</em> (see <a class="el" href="mesh_file_format.html#meshfile_charts">Chart XML Node Description</a>) is a description of a boundary, e.g. by an analytic description or even a discrete surface triangulation.</p>
<p >A <em>partitioning</em> (see <a class="el" href="mesh_file_format.html#meshfile_partition">Partition XML Node Description</a>) is a splitting of the root mesh into several <code>patches</code>, which can be used in an MPI parallel simulation to distribute the domain among the MPI processes.</p>
<h2><a class="anchor" id="meshfile_basic_topology"></a>
Mesh Topology</h2>
<p >This section describes the topology ordering for the four supported 2D and 3D shapes, namely triangles, quadrilaterals, tetrahedra and hexahedra. In principle, <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> also supports higher dimensional shapes of simplex and hypercube type, however, some parts of the mesh management classes are missing specializations for higher-dimensional shapes, so the documentation of the corresponding higher-dimensional topologies is omitted here.</p>
<dl class="section note"><dt>Note</dt><dd>The edge and face numberings presented below are irrelevant for the documentation of the mesh file format, as mesh files dot not supply any information that would require their definition. These orderings are only documented here for the sake of completeness.</dd></dl>
<h3><a class="anchor" id="meshfile_shape_numbering_tria"></a>
Triangle Topology Ordering</h3>
<p >The ordering of the triangle topology is as follows: </p><div class="image">
<object type="image/svg+xml" data="shape_topo_tria2d.svg" style="pointer-events: none;"></object>
</div>
<ul>
<li>The vertices (black) of a triangle are ordered in counter-clockwise manner:<ul>
<li>vertex 0: (0, 0)</li>
<li>vertex 1: (0, 1)</li>
<li>vertex 2: (1, 0)</li>
</ul>
</li>
<li>The edges (red) of a triangle are also ordered in counter-clockwise manner, where edge 0 is on the opposite side of vertex 0, namely:<ul>
<li>edge 0: (1, 2)</li>
<li>edge 1: (2, 0)</li>
<li>edge 2: (0, 1)</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="meshfile_shape_numbering_quad"></a>
Quadrilateral Topology Ordering</h3>
<p >The ordering of the quadrilateral topology is as follows: </p><div class="image">
<object type="image/svg+xml" data="shape_topo_quad2d.svg" style="pointer-events: none;"></object>
</div>
<ul>
<li>The vertices (black) of a quadrilateral are ordered in an S-shape zig-zag pattern:<ul>
<li>vertex 0: (-1,-1)</li>
<li>vertex 1: (-1,+1)</li>
<li>vertex 2: (+1,-1)</li>
<li>vertex 3: (+1,+1)</li>
</ul>
</li>
<li>The edges (red) of a quadrilateral are ordered in an alternating pattern:<ul>
<li>First, all edges parallel to the X-axis, sorted by their Y-coords, namely:<ul>
<li>edge 0: (0, 1)</li>
<li>edge 1: (2, 3)</li>
</ul>
</li>
<li>Then, all edges parallel to the Y-axis, sorted by their X-coords.<ul>
<li>edge 2: (0, 2)</li>
<li>edge 3: (1, 3)</li>
</ul>
</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This zig-zag pattern of the vertices is derived from the following idea: Assume that the quad represents the square [0,1]x[0,1], then the coordinates of a vertex are given by the binary digits of its index. Please note that the reference element is [-1,+1]x[-1,+1] and not [0,1]x[0,1].</dd></dl>
<h3><a class="anchor" id="meshfile_shape_numbering_tetra"></a>
Tetrahedral Topology Ordering</h3>
<p >The ordering of the tetrahedron topology is as follows: </p><div class="image">
<object type="image/svg+xml" data="shape_topo_tetra3d.svg" style="pointer-events: none;"></object>
</div>
<ul>
<li>The vertices (black) of a tetrahedron are ordered by the right-hand-rule.<ul>
<li>vertex 0: (0, 0, 0)</li>
<li>vertex 1: (1, 0, 0)</li>
<li>vertex 2: (0, 1, 0)</li>
<li>vertex 3: (0, 0, 1)</li>
</ul>
</li>
<li>The edges (red) of a tetrahedron are not ordered to any particular pattern, as it seems that there exists no real useful pattern for tetrahedra edges.<ul>
<li>edge 0: (0, 1)</li>
<li>edge 1: (0, 2)</li>
<li>edge 2: (0, 3)</li>
<li>edge 3: (1, 2)</li>
<li>edge 4: (1, 3)</li>
<li>edge 5: (2, 3)</li>
</ul>
</li>
<li>The faces (blue) are of a tetrahedron are ordered by the right-hand-rule, where face 0 is on the opposite side of vertex 0.<ul>
<li>face 0: (1, 2, 3)</li>
<li>face 1: (0, 2, 3)</li>
<li>face 2: (0, 1, 3)</li>
<li>face 3: (0, 1, 2)</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="meshfile_shape_numbering_hexa"></a>
Hexahedral Topology Ordering</h3>
<p >The ordering of the hexahedron topology is as follows: </p><div class="image">
<object type="image/svg+xml" data="shape_topo_hexa3d.svg" style="pointer-events: none;"></object>
</div>
<ul>
<li>The vertices (black) of a hexahedron are ordered in an S-shape zig-zag pattern.<ul>
<li>vertex 0: (-1,-1,-1)</li>
<li>vertex 1: (-1,+1,-1)</li>
<li>vertex 2: (+1,-1,-1)</li>
<li>vertex 3: (+1,+1,-1)</li>
<li>vertex 4: (-1,-1,+1)</li>
<li>vertex 5: (-1,+1,+1)</li>
<li>vertex 6: (+1,-1,+1)</li>
<li>vertex 7: (+1,+1,+1)</li>
</ul>
</li>
<li>The edges (red) of a hexahedron are ordered in an alternating pattern:<ul>
<li>First, all edges parallel to the X-axis, sorted by their YZ-coords.<ul>
<li>edge 0: (0, 1)</li>
<li>edge 1: (2, 3)</li>
<li>edge 2: (4, 5)</li>
<li>edge 3: (6, 7)</li>
</ul>
</li>
<li>Then, all edges parallel to the Y-axis, sorted by their XZ-coords.<ul>
<li>edge 4: (0, 2)</li>
<li>edge 5: (1, 3)</li>
<li>edge 6: (4, 6)</li>
<li>edge 7: (5, 7)</li>
</ul>
</li>
<li>Then, all edges parallel to the Z-axis, sorted by their XY-coords.<ul>
<li>edge 8: (0, 4)</li>
<li>edge 9: (1, 5)</li>
<li>edge 10: (2, 6)</li>
<li>edge 11: (3, 7)</li>
</ul>
</li>
</ul>
</li>
<li>The faces (blue) of a hexahedron are ordered in an alternating pattern:<ul>
<li>First, all faces parallel to the XY-plane, sorted by their Z-coords.<ul>
<li>face 0: (0, 1, 2, 3)</li>
<li>face 1: (4, 5, 6, 7)</li>
</ul>
</li>
<li>Then, all faces parallel to the XZ-plane, sorted by their Y-coords.<ul>
<li>face 2: (0, 1, 4, 5)</li>
<li>face 3: (2, 3, 6, 7)</li>
</ul>
</li>
<li>Then, all faces parallel to the YZ-plane, sorted by their X-coords.<ul>
<li>face 4: (0, 2, 4, 6)</li>
<li>face 5: (1, 3, 5, 7)</li>
</ul>
</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Just as for quadrilaterals, the zig-zag pattern of the vertex numbering for hexahedra is derived from the fact that the binary digits of the vertex indices represent the vertex coordinates of the unit-cube.</dd></dl>
<h2><a class="anchor" id="meshfile_parameterization"></a>
Boundary Parameterization by Charts and Mesh-Parts</h2>
<p >This section describes both the explicit and implicit boundary parameterization mechanisms used in <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> based on charts (see <a class="el" href="mesh_file_format.html#meshfile_charts">Chart XML Node Description</a>) and mesh-parts (see <a class="el" href="mesh_file_format.html#meshfile_meshpart">MeshPart XML Node Description</a>).</p>
<p >Mesh-parts can be used (amongst other things) to represent the boundary (or a part thereof) of the root mesh that it is defined on and mesh-parts may furthermore be linked to a specific chart that describes the boundary of the analytical domain that the mesh discretizes/approximates. Once a mesh gets refined by <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a>'s mesh management classes (namely the <a class="el" href="class_f_e_a_t_1_1_geometry_1_1_root_mesh_node.html" title="Root mesh node class template.">FEAT::Geometry::RootMeshNode</a> class), all of its mesh-parts are also refined and (unless otherwise specified by the user) all mesh-parts, which are linked to charts, will be used to <em>adapt</em> the root mesh by moving the newly created boundary vertices onto the boundary of the analytical domain.</p>
<p >As already hinted above, there exist two mechanisms in <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> to perform this task of boundary adaption: <em>explicit</em> and <em>implicit</em> boundary parameterization. The decision which of these two mechanisms is chosen by the mesh management classes depends the following various factors, namely:</p><ul>
<li>Does the type of chart offer the possibility for explicit parameterization?</li>
<li>Does the mesh-part contain a topology?</li>
<li>Does the mesh-part contain a <code>"param"</code> attribute that specifies the boundary vertex parameters?</li>
</ul>
<p >If all of the above points are met, then the boundary adaption is performed by explicit parameterization, otherwise the it is performed by implicit parameterization. See the next two sub-sections for details.</p>
<h3><a class="anchor" id="meshfile_parameterization_explicit"></a>
Boundary Adaption by Explicit Parameterization</h3>
<p >Boundary adaption by explicit parameterization is best explained by an example, so we will have a closer look at the main contents of the <code>unit_circle_tria_4.xml</code> mesh file. This mesh discretizes the 2D unit-circle by four triangles: </p><div class="image">
<object type="image/svg+xml" data="boundary_param_1.svg" style="pointer-events: none;"></object>
</div>
<p> The mesh file contains a chart named <code>"outer"</code> that represents the (red) circle of radius 1 around the midpoint (0,0) and furthermore it states that the circle is parameterized by the parameter range [0,4], where both the start-point 0 and the end-point 4 of the parameter range coincide with the East point on the circle (i.e. the point with the maximum X coordinate), which is marked by a small dash in the image above. For the exact parameterization formula, see <a class="el" href="mesh_file_format.html#meshfile_chart_circle_param">2D Circle Parameterization</a>.</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">FeatMeshFile</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">mesh</span>=<span class="stringliteral">&quot;conformal:simplex:2:2&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;outer&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Circle</span> <span class="keyword">radius</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">midpoint</span>=<span class="stringliteral">&quot;0 0&quot;</span> <span class="keyword">domain</span>=<span class="stringliteral">&quot;0 4&quot;</span> /&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><p> Next in the mesh file comes the actual root mesh with 5 vertices (center vertex first) , 8 edges (inner edges first) and the four triangles: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Mesh</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;conformal:simplex:2:2&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;5 8 4&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">     0       0</div>
<div class="line">     0.7071  0.7071</div>
<div class="line">    -0.7071  0.7071</div>
<div class="line">    -0.7071 -0.7071</div>
<div class="line">     0.7071 -0.7071</div>
<div class="line">  &lt;/<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">    0 1</div>
<div class="line">    0 2</div>
<div class="line">    0 3</div>
<div class="line">    0 4</div>
<div class="line">    1 2</div>
<div class="line">    2 3</div>
<div class="line">    3 4</div>
<div class="line">    4 1</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">    0 1 2</div>
<div class="line">    0 2 3</div>
<div class="line">    0 3 4</div>
<div class="line">    0 4 1</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Mesh</span>&gt;</div>
</div><!-- fragment --><p> Finally, there is the one and only mesh-part named <code>"bnd:o"</code> that is linked to the chart named <code>"outer"</code> that we have seen above and this mesh-part also contains the full topology of the mesh-part, which is required for the computation of the vertex parameters as we will see below. </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">MeshPart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;bnd:o&quot;</span> <span class="keyword">parent</span>=<span class="stringliteral">&quot;root&quot;</span> <span class="keyword">chart</span>=<span class="stringliteral">&quot;outer&quot;</span> <span class="keyword">topology</span>=<span class="stringliteral">&quot;full&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;5 4&quot;</span>&gt;</div>
</div><!-- fragment --><p> We need to specify parameter attributes for each vertex in the mesh-part (at least if we want to make use of explicit parameterization) and because this mesh-part discretizes the entire closed 2D boundary and not just an open part of it, we have to use a "life hack" and specify one of the vertices twice, because we need two assign two different parameters for them (you will see below why). We pick the upper right vertex, which is vertex number 1 in the root mesh, to be the one that is contained twice in the mesh-part; all other boundary vertices are contained in the mesh-part only once: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Mapping</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;</div>
<div class="line">  1</div>
<div class="line">  2</div>
<div class="line">  3</div>
<div class="line">  4</div>
<div class="line">  1</div>
<div class="line">&lt;/<span class="keywordtype">Mapping</span>&gt;</div>
</div><!-- fragment --><p> Next comes the list of all root mesh boundary edges, there's nothing particularly interesting here: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Mapping</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">  4</div>
<div class="line">  5</div>
<div class="line">  6</div>
<div class="line">  7</div>
<div class="line">&lt;/<span class="keywordtype">Mapping</span>&gt;</div>
</div><!-- fragment --><p> Now comes the topology of the mesh-part, which describes for each mesh-part edge which mesh-part vertices form that mesh-part edge; keep in mind that vertex 0 and 4 in this mesh-part actually refer to the same vertex 1 in the root mesh: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">  0 1</div>
<div class="line">  1 2</div>
<div class="line">  2 3</div>
<div class="line">  3 4</div>
<div class="line">&lt;/<span class="keywordtype">Topology</span>&gt;</div>
</div><!-- fragment --><p> Finally comes the <code>"param"</code> attribute for this mesh-part, which specifies the parameters of each mesh-part vertex with respect to the explicit parameterization of the chart that this mesh-part is linked to. Because our circle chart has been defined on the domain [0,4] and the endpoints 0 and 4 coincide to the East point on the circle, the parameter for the upper right vertex in the mesh (which is contained twice in this mesh-part) can be chosen as 4*N+0.5 for any integer N, so we (arbitrarily) pick N=0 and thus 0.5 as the parameter for the first mesh-part vertex, which is the upper-right vertex in the root mesh, and then we assign the parameters 1.5, 2.5 and 3.5 counter-clockwise to the corresponding vertices accordingly. Finally, the second instance of the upper-right vertex gets assigned the parameter 4.5, which is equivalent to the parameter 0.5 that we have chosen for the first instance for the same root mesh vertex: </p><div class="fragment"><div class="line">    &lt;<span class="keywordtype">Attribute</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;param&quot;</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">      0.5</div>
<div class="line">      1.5</div>
<div class="line">      2.5</div>
<div class="line">      3.5</div>
<div class="line">      4.5</div>
<div class="line">    &lt;/<span class="keywordtype">Attribute</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">MeshPart</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">FeatMeshFile</span>&gt;</div>
</div><!-- fragment --><p >After the root mesh has been refined, the mesh management class will also refine all mesh-parts accordingly, and initially all newly created vertices are placed at the centers of the edges that spawned them (or the centers of faces or volumes, respectively). In the next step, the attributes of the mesh-parts are interpolated linearly from the attributes of the coarse mesh and this is where the mesh-part topology is required, because it specifies the mesh-part vertices for each mesh-part edge that are used to interpolate the new vertex parameter attributes from.</p>
<p >Consider the top edge in the image above: this edge number 1 of the mesh part (which corresponds to edge number 4 in the root mesh) and the topology of the mesh-part states that the this mesh-part edge is formed by the mesh-part vertices 0 and 1 (which correspond to vertices 1 and 2 in the root mesh, respectively). The parameter for mesh-part vertex 0 is 0.5 and the parameter for mesh-part vertex 1 is 1.5, so the interpolated midpoint parameter is 1.0 and this is what is assigned as a parameter to the newly created vertex on the midpoint of that top edge. Analogously, the new vertices on the left and bottom edge are assigned the parameters 2.0 and 3.0 by interpolating the edge vertex parameters. Finally, the right mesh-part edge is formed by the mesh-part vertices 3 and 4 (which correspond to vertices 4 and 1 in the root mesh, respectively) which have the parameters 3.5 and 4.5 assigned to them, respectively, so the parameter of the newly spawned vertex on the right edge is 4.0 (which is equivalent to 0.0 for our circle chart).</p>
<div class="image">
<object type="image/svg+xml" data="boundary_param_2.svg" style="pointer-events: none;"></object>
</div>
<p >Now that all mesh-part vertex parameters are known, the management classes will use the chart class to explicitly compute the new vertex coordinates of all the root mesh vertices based on their parameters by using the parameterization formula of the corresponding chart, and we finally obtain the boundary adapted mesh: </p><div class="image">
<object type="image/svg+xml" data="boundary_param_3.svg" style="pointer-events: none;"></object>
</div>
<h3><a class="anchor" id="meshfile_parameterization_implicit"></a>
Boundary Adaption by Implicit Parameterization</h3>
<p >Not all chart types offer the possibility to explicitly parameterize the boundary, e.g. the Sphere chart (see <a class="el" href="mesh_file_format.html#meshfile_chart_sphere">3D Sphere Chart Description</a>) or the SurfaceMesh chart (see <a class="el" href="mesh_file_format.html#meshfile_chart_surfmesh">3D SurfaceMesh Chart Description</a>), but all chart classes are mandated to offer an implicit boundary adaption method, which can be used to project newly created vertices onto the analytical boundary by some sort of orthogonal projection or closest-point projection.</p>
<p >There is nothing special to considered for the implicit parameterization from the mesh file point of view, because all that is required is a mesh-part with a mapping of all boundary vertices, edges and (in 3D) faces and that is linked to a chart, but no mesh-part topology, no mesh-part parameter attributes are required; the mesh management classes will automatically ask the chart to project all vertices contained in the mesh-part onto the boundary by whatever means the chart implements to accomplish this task.</p>
<h1><a class="anchor" id="meshfile_file_structure"></a>
Overall Mesh File Structure</h1>
<p ><a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> meshes are stored in XML format containing the root mesh itself (consisting of its vertex coordinates and its mesh topology), boundary descriptions, mesh parts and partitionings. <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh files do not need to be self-contained, i.e. it is possible to split the individual parts (i.e. the root mesh, the charts, the mesh-parts and partitioning) across several files which are then passed together as a set of input files to the <a class="el" href="class_f_e_a_t_1_1_geometry_1_1_mesh_file_reader.html" title="Mesh file reader class.">FEAT::Geometry::MeshFileReader</a> or the <a class="el" href="class_f_e_a_t_1_1_control_1_1_domain_1_1_parti_domain_control.html" title="Recursively Partitioned Domain Control.">FEAT::Control::Domain::PartiDomainControl</a> classes.</p>
<p >The overall mesh file structure looks as follows:</p>
<pre class="fragment"> FeatMeshFile
 +- Info
 +- Chart
 |  +- Circle
 |  +- Sphere
 |  +- Bezier
 |  |  +- Points
 |  |  +- Params
 |  +- SurfaceMesh
 |  |  +- Vertices
 |  |  +- Triangles
 |  +- Extrude
 |     +- Circle
 |     +- Bezier
 +- Mesh
 |  +- Vertices
 |  +- Topology
 +- MeshPart
 |  +- Mapping
 |  +- Topology
 |  +- Attribute
 +- Partition
    +- Patch
</pre><p >The most simple example of a 2D unit-square mesh file without any optional features is this: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">FeatMeshFile</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Mesh</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;conformal:hypercube:2:2&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;4 4 1&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">      0 0</div>
<div class="line">      1 0</div>
<div class="line">      0 1</div>
<div class="line">      1 1</div>
<div class="line">    &lt;/<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">      0 1</div>
<div class="line">      2 3</div>
<div class="line">      0 2</div>
<div class="line">      1 3</div>
<div class="line">    &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">      0 1 2 3</div>
<div class="line">    &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">Mesh</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">FeatMeshFile</span>&gt;</div>
</div><!-- fragment --><ul>
<li>Line 1 contains the mandatory root marker indicating that this is a file in <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh file format.</li>
<li>Line 2 states that this is a hypercube mesh of shape (topological) dimension 2 in world (space) dimension 2 (i.e. a 2D quadrilateral mesh) containing 4 vertices, 4 edges and 1 face (element).</li>
<li>Lines 3-8 contain the coordinates for the four vertices of the mesh.</li>
<li>Lines 9-14 contain the vertex indices for the four edges of the mesh.</li>
<li>Lines 15-17 contain the vertex indices for the one and only quadrilateral of the mesh.</li>
<li>Lines 18-19 contain the terminators of the mesh marker and the root marker from lines 2 and 1, respectively.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Most mesh files that are contained in <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a>'s repository are indented as shown in the example above, however, the <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh file reader ignores all indentation, so it is perfectly valid to write <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh files without any indentation to conserve some disk space.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>It is important to note that the <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh file format has some syntactical restrictions regarding the valid XML syntax, which is to ensure that the files can be parsed efficiently into the corresponding mesh objects on-the-fly without the need to perform sophisticated analysis of the XML node tree. The most important restriction (as compared to the standard XML format) is that each XML marker must be contained alone in a single line, i.e. it is not allowed to split a single XML marker across more than one line and it is not allowed that two or more XML markers are contained in the same line.<br  />
<br  />
For example, the following is <b>not</b> a syntactically legal <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh file, although it is a syntactically legal XML file and semantically equivalent to the unit-square example above: <div class="fragment"><div class="line">&lt;<span class="keywordtype">FeatMeshFile</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;&lt;<span class="keywordtype">Mesh</span></div>
<div class="line">    <span class="keyword">type</span>=<span class="stringliteral">&quot;conformal:hypercube:2:2&quot;</span></div>
<div class="line">    <span class="keyword">size</span>=<span class="stringliteral">&quot;4 4 1&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">      0 0</div>
<div class="line">      1 0</div>
<div class="line">      0 1</div>
<div class="line">      1 1</div>
<div class="line">    &lt;/<span class="keywordtype">Vertices</span>&gt;&lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">      0 1</div>
<div class="line">      2 3</div>
<div class="line">      0 2</div>
<div class="line">      1 3</div>
<div class="line">    &lt;/<span class="keywordtype">Topology</span>&gt;&lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">      0 1 2 3</div>
<div class="line">    &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">Mesh</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">FeatMeshFile</span>&gt;</div>
</div><!-- fragment --></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh file reader ignores <b>single-line</b> XML comments of the form<br  />
<code>&lt;!-- This is an XML comment. --&gt;</code><br  />
however, it is recommended to make use of the optional <code>Info</code> node for remarks and comments instead, see <a class="el" href="mesh_file_format.html#meshfile_info">Info XML Node Description</a>. Multi-line XML comments are not supported and will lead to parser errors.</dd></dl>
<h2><a class="anchor" id="meshfile_meshtype"></a>
Mesh Type Specification</h2>
<p >The <em>meshtype value</em> is a string consisting of four tokens joined by colons: </p><pre class="fragment">&lt;class&gt;:&lt;shape&gt;:&lt;shape-dim&gt;:&lt;world-dim&gt;
</pre><p> where:</p><ul>
<li><code>&lt;class&gt;</code> is the mesh class: Currently, the only valid option is <code>"conformal"</code>, which represents an unstructured conformal mesh with no hanging nodes.</li>
<li><code>&lt;shape&gt;</code> is the shape-type of the mesh elements: This must be one of the following:<ul>
<li><code>simplex</code> if the elements are simplices (triangles, tetrahedra)</li>
<li><code>hypercube</code> if the elements are hypercubes (quadrilateral, hexahedra)</li>
</ul>
</li>
<li><code>&lt;shape-dim&gt;</code> is the shape dimension of the mesh elements:<ul>
<li><code>2</code> for 2-dimensional shapes (triangles, quadrilaterals)</li>
<li><code>3</code> for 3-dimensional shapes (tetrahedra, hexahedra)</li>
</ul>
</li>
<li><code>&lt;world-dim&gt;</code> is the world dimension of the mesh, i.e. the number of coordinates per vertex<ul>
<li><code>&lt;world-dim&gt;</code> is always equal to <code>&lt;shape-dim&gt;</code>, unless this is a surface mesh, in which case it is greater than <code>&lt;shape-dim&gt;</code></li>
</ul>
</li>
</ul>
<p ><b>Examples:</b> Although the <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh file format (and most of <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a>'s internal mesh management classes) can also handle meshes of higher dimensions, the following mesh types are the ones that are currently being used in applications:</p><ul>
<li><code>"conformal:hypercube:1:1"</code> represents a 1D mesh (technically treated as an unstructured conformal mesh)</li>
<li><code>"conformal:hypercube:1:2"</code> represents a 1D mesh embedded in 2D (technically treated as an unstructured conformal mesh)</li>
<li><code>"conformal:hypercube:1:3"</code> represents a 1D mesh embedded in 3D (technically treated as an unstructured conformal mesh)</li>
<li><code>"conformal:hypercube:2:2"</code> represents a 2D unstructured conformal quadrilateral mesh</li>
<li><code>"conformal:hypercube:2:3"</code> represents a 2D unstructured conformal quadrilateral surface mesh embedded in 3D</li>
<li><code>"conformal:hypercube:3:3"</code> represents a 3D unstructured conformal hexahedral mesh</li>
<li><code>"conformal:simplex:2:2"</code> represents a 2D unstructured conformal triangular mesh</li>
<li><code>"conformal:simplex:2:3"</code> represents a 2D unstructured conformal triangular surface mesh embedded in 3D</li>
<li><code>"conformal:simplex:3:3"</code> represents a 3D unstructured conformal tetrahedral mesh</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><code>"conformal:simplex:1:x"</code> is not a valid mesh type for any value of <code>x</code>; this is purely by convention to avoid having two incompatible definitions of a 1D mesh.</dd></dl>
<h1><a class="anchor" id="meshfile_root"></a>
Mesh File Root XML Node Description</h1>
<p >The root node of all valid <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh files is the <code>FeatMeshFile</code> node.</p>
<p >The root node can contain the following attributes:</p><ul>
<li><b>version</b> (mandatory): specifies the file version, must be equal to <code>1</code></li>
<li><b>meshtype</b> (optional): specifies the mesh type</li>
</ul>
<p >The <b>meshtype</b> attribute is optional and, if given, specifies the type of the root mesh that is stored in the mesh file. See <a class="el" href="mesh_file_format.html#meshfile_meshtype">Mesh Type Specification</a> for possible values for this attribute. This attribute is optional, because not all mesh files actually contain a root mesh, as they may just store charts, mesh-parts or partitions.</p>
<dl class="section note"><dt>Note</dt><dd>Even if the file contains a root mesh, the <b>meshtype</b> attribute is not mandatory, but it is <b>highly</b> recommended to be declared in this case, as some applications or tools (e.g. the <code>mesh2vtk</code> tool) may require this attribute to choose the correct execution path.</dd>
<dd>
It is recommended to obey the following rule of thumb:<br  />
The mesh file root marker specifies the <b>meshtype</b> attribute <em>if and only if</em> the mesh file also contains the root mesh.</dd></dl>
<h2><a class="anchor" id="meshfile_root_examples"></a>
Examples</h2>
<p >In the most simple case, the root node is merely </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">FeatMeshFile</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">  ...</div>
<div class="line">&lt;/<span class="keywordtype">FeatMeshFile</span>&gt;</div>
</div><!-- fragment --><p >If the mesh file contains a 2D quadrilateral mesh, then the root node would be </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">FeatMeshFile</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">meshtype</span>=<span class="stringliteral">&quot;conformal:hypercube:2:2&quot;</span>&gt;</div>
<div class="line">  ...</div>
<div class="line">&lt;/<span class="keywordtype">FeatMeshFile</span>&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="meshfile_info"></a>
Info XML Node Description</h1>
<p >Each mesh file may contain an optional multi-line Info node, which contains a block of arbitrary remarks or information about the file and/or its contents. The Info node is ignored by the mesh file reader.</p>
<p >Example: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">FeatMeshFile</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Info</span>&gt;</div>
<div class="line">    <span class="keyword">This</span> <span class="keyword">file</span> <span class="keyword">represents</span> <span class="keyword">the</span> <span class="keyword">unit-square</span> [0,1]<span class="keyword">x</span>[0,1] <span class="keyword">discretized</span> <span class="keyword">into</span> <span class="keyword">a</span> <span class="keyword">single</span> <span class="keyword">quadrilateral.</span></div>
<div class="line">    <span class="keyword">This</span> <span class="keyword">is</span> <span class="keyword">probably</span> <span class="keyword">the</span> <span class="keyword">most</span> <span class="keyword">popular</span> <span class="keyword">mesh</span> <span class="keyword">for</span> <span class="keyword">PDE</span> <span class="keyword">simulations</span> <span class="keyword">of</span> <span class="keyword">all</span> <span class="keyword">time</span> <span class="keyword">for</span> <span class="keyword">good</span> <span class="keyword">reasons.</span></div>
<div class="line">  &lt;/<span class="keywordtype">Info</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Mesh</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;conformal:hypercube:2:2&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;4 4 1&quot;</span>&gt;</div>
<div class="line">    ...</div>
<div class="line">  &lt;/<span class="keywordtype">Mesh</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">FeatMeshFile</span>&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="meshfile_charts"></a>
Chart XML Node Description</h1>
<p >Charts are descriptions of geometric object like circles, spheres or splines, which are often used for parameterization of domain boundaries or fictitious boundaries within the domain.</p>
<p >Each chart is embedded in a separate <code>Chart</code> node, whose one and only attribute is the mandatory <b>name</b> attribute, which specifies the unique name of the chart. See the following subsections for examples of this node.</p>
<h2><a class="anchor" id="meshfile_chart_circle"></a>
2D Circle Chart Description</h2>
<p >The most simple chart is the <code>Circle</code> chart, which represents a simple 2D circle object.</p>
<p >The Circle chart supports the following attributes:</p><ul>
<li><b>radius</b> (mandatory): the radius of the circle</li>
<li><b>midpoint</b> (mandatory): the X- and Y-coordinates of the circle midpoint, separated by white-space(s)</li>
<li><b>domain</b> (optional): the left and right borders of the interval that is mapped onto the circle.</li>
</ul>
<p >The <b>domain</b> attribute is required for explicit boundary parameterization (see <a class="el" href="mesh_file_format.html#meshfile_parameterization_explicit">Boundary Adaption by Explicit Parameterization</a>); without it the Circle chart only supports implicit boundary parameterization.</p>
<h3><a class="anchor" id="meshfile_chart_circle_param"></a>
2D Circle Parameterization</h3>
<p >Let \(m_x, m_y\) denote the coordinates of the circle midpoint, \(r\) the circle radius and \(d_L, d_R\) the left and right domain interval borders, then the parameterization of the circle is defined as follows:</p>
<p class="formulaDsp">
\[\alpha(t) := \frac{2\pi\cdot(t-d_L)}{d_R-d_L}\]
</p>
 <p class="formulaDsp">
\[t \mapsto \begin{bmatrix} m_x + r\cdot\cos(\alpha(t))\\ m_y + r\cdot\sin(\alpha(t))\end{bmatrix}\]
</p>
<p >See <a class="el" href="mesh_file_format.html#meshfile_parameterization_explicit">Boundary Adaption by Explicit Parameterization</a> for a practical example of how this parameterization is used for the adaption of boundary vertices.</p>
<h3><a class="anchor" id="meshfile_chart_circle_examples"></a>
2D Circle Chart Examples</h3>
<p >A (unparameterized) circle of radius 0.2 around the midpoint (0.5, 1.0) named "myCircle" would be defined by: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;myCircle&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Circle</span> <span class="keyword">radius</span>=<span class="stringliteral">&quot;0.2&quot;</span> <span class="keyword">midpoint</span>=<span class="stringliteral">&quot;0.5 1.0&quot;</span> /&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><p >A circle of radius 1 around the midpoint (0.7, 0.2) parameterized by the interval [0, 2]: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;myCircle&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Circle</span> <span class="keyword">radius</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">midpoint</span>=<span class="stringliteral">&quot;0.7 0.2&quot;</span> <span class="keyword">domain</span>=<span class="stringliteral">&quot;0 2&quot;</span> /&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="meshfile_chart_sphere"></a>
3D Sphere Chart Description</h2>
<p >The <code>Sphere</code> chart is the 3D analogon of the <code>Circle</code> chart, which represents a 3D sphere object.</p>
<p >The Sphere chart supports the following attributes:</p><ul>
<li><b>radius</b> (mandatory): the radius of the sphere</li>
<li><b>midpoint</b> (mandatory): the X-, Y- and Z-coordinates of the sphere midpoint, separated by white-space(s)</li>
</ul>
<p >The Sphere chart only supports implicit boundary parameterization.</p>
<h3><a class="anchor" id="meshfile_chart_sphere_examples"></a>
3D Sphere Chart Examples</h3>
<p >A sphere of radius 0.2 around the midpoint (0.5, 1.0, 0.7) named "mySphere" would be defined by: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;mySphere&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Sphere</span> <span class="keyword">radius</span>=<span class="stringliteral">&quot;0.2&quot;</span> <span class="keyword">midpoint</span>=<span class="stringliteral">&quot;0.5 1 0.7&quot;</span>/&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="meshfile_chart_bezier"></a>
2D Bezier Chart Description</h2>
<p >The <code>Bezier</code> chart represents a 2D Bezier-Spline (aka "Polybezier" aka "composite Bezier curve"), which can be used to describe quite complex objects by a continuous composition of Bezier curves of possibly varying degree.</p>
<p ><b>Terminology:</b></p><ul>
<li>A <b>vertex point</b> is a point which denotes the start and/or end of one ore more Bezier curve segment(s).<br  />
 This includes the start- and end-points of the whole spline as well as each inner point connecting two consecutive Bezier curves.</li>
<li>A <b>control point</b> is a point which controls the shape of the Bezier curve segment spanned between two consecutive vertex points.</li>
</ul>
<p >The <code>Bezier</code> chart contains the following attributes:</p><ul>
<li><b>dim</b> (mandatory): specifies the dimension of the spline, must be equal to 2</li>
<li><b>size</b> (mandatory): specifies the total number of <b>vertex points</b> of the spline (i.e. not counting the control points)</li>
<li><b>type</b> (optional): specifies whether the spline is <b>open</b> or <b>closed</b>. If not given, the spline is assumed to be open.</li>
<li><b>orientation</b> (optional): specifies the orientation of the spline, which may be either +1 or -1. If not given, the spline is assumed to have positive orientation.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>If a Bezier chart is declared as <b>closed</b>, then it is silently assumed that the start- and end-vertex points of the Bezier spline coincide, otherwise the chart is ill-formed.</dd></dl>
<p>Each <code>Bezier</code> chart must contain a child node named <code>Points</code> which encapsulates the coordinates of the vertex and control points, see <a class="el" href="mesh_file_format.html#meshfile_chart_bezier_points">Bezier Points</a> for details.</p>
<p >Furthermore, a <code>Bezier</code> chart may also be parameterized. In this case, the spline needs an additional child node named <code>Params</code>, which encapsulates the 1D parameters for the vertex points of the Spline, see <a class="el" href="mesh_file_format.html#meshfile_chart_bezier_params">Bezier Parameters</a> for details.</p>
<h3><a class="anchor" id="meshfile_chart_bezier_points"></a>
Bezier Points</h3>
<p >The <code>Points</code> node itself has no attributes, and its contents specify both the vertex points and the control points of the Spline. Each line corresponds to a single Bezier segment, which consists of all control points following the previous vertex point as well as the end vertex point of the segment, encoded in the following way: </p><p class="formulaDsp">
\[ n~ c^1_x~ c^1_y~ c^2_x~ c^2_y~ ...~ c^n_x~ c^n_y~ v_x~ v_y\]
</p>
<p >where</p><ul>
<li><em>n</em> specifies the number of control points for the segment</li>
<li>\(c^k_x\) and \(c^k_y\) specify the x- and y-coordinates of the <em>k</em>-th inner control point following the previous vertex point, resp.</li>
<li>\(v_x\) and \(v_y\) specify the x- and y-coordinates of the next vertex point, resp.</li>
</ul>
<dl class="section remark"><dt>Remarks</dt><dd>A Bezier curve without any inner control points is a simple line segment.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The first vertex point of a Bezier spline must <b>not</b> be preceded by any control points.</dd></dl>
<h3><a class="anchor" id="meshfile_chart_bezier_params"></a>
Bezier Parameters</h3>
<p >A <code>Bezier</code> chart may also be explicitly parameterized. In this case, the <code>Bezier</code> node contains a child node named <code>Params</code>, which contain the 1D parameter values of the vertex points. Without this <code>Param</code> sub-node, the <code>Bezier</code> chart only support implicit boundary parameterization.</p>
<h3><a class="anchor" id="meshfile_chart_bezier_examples"></a>
2D Bezier Chart Examples</h3>
<p >A Bezier spline representing a simple line segment from (0.1, 0.5) to (0.7, 0.2) would be: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;line&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Bezier</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;open&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Points</span>&gt;</div>
<div class="line">      0 0.1 0.5</div>
<div class="line">      0 0.7 0.2</div>
<div class="line">    &lt;/<span class="keywordtype">Points</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">Bezier</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><p >A (closed) Bezier spline representing the polyline forming the boundary of the unit-square [0,1] x [0,1], equidistantly parameterized over the 1D domain [0,4]: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;square&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Bezier</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;5&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;closed&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Points</span>&gt;</div>
<div class="line">      0 0 0</div>
<div class="line">      0 1 0</div>
<div class="line">      0 1 1</div>
<div class="line">      0 0 1</div>
<div class="line">      0 0 0</div>
<div class="line">    &lt;/<span class="keywordtype">Points</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Params</span>&gt;</div>
<div class="line">      0.0</div>
<div class="line">      1.0</div>
<div class="line">      2.0</div>
<div class="line">      3.0</div>
<div class="line">      4.0</div>
<div class="line">    &lt;/<span class="keywordtype">Params</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">Bezier</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><p >Consider the (open) cubic Bezier curve spanned by the four points (0.1, 0.2), (0.3, 0.1), (0.5, 0.1) and (0.7, 0.3). This curve has two vertex points (the first and the last one) as well as two (inner) control points between the two vertex points, so in our encoding the two control points "belong" to the second vertex point, whereas the first vertex point has no control points: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;curve&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Bezier</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;open&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Points</span>&gt;</div>
<div class="line">      0 0.1 0.2</div>
<div class="line">      2 0.3 0.1 0.5 0.1 0.7 0.3</div>
<div class="line">    &lt;/<span class="keywordtype">Points</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">Bezier</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><p >A cubic Bezier spline with three vertex points (0, -0.5), (1, -0.2), (2, -0.5) and two (inner) control points for each of the two segments, equidistantly parameterized over the 1D domain [0,1]: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;nozzle:b&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Bezier</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;3&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;open&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Points</span>&gt;</div>
<div class="line">      0 0 -0.5</div>
<div class="line">      2 0.50 -0.5 0.65 -0.2  1 -0.2</div>
<div class="line">      2 1.35 -0.2 1.60 -0.35 2 -0.5</div>
<div class="line">    &lt;/<span class="keywordtype">Points</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Params</span>&gt;</div>
<div class="line">      0.0</div>
<div class="line">      0.5</div>
<div class="line">      1.0</div>
<div class="line">    &lt;/<span class="keywordtype">Params</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">Bezier</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="meshfile_chart_surfmesh"></a>
3D SurfaceMesh Chart Description</h2>
<p >The <code>SurfaceMesh</code> chart represents a surface triangulation of a 3D object.</p>
<p >A <code>SurfaceMesh</code> has the following attributes:</p><ul>
<li><b>verts</b> (mandatory): specifies the number of vertices in the triangulation</li>
<li><b>trias</b> (mandatory): specifies the number of triangles in the triangulation</li>
</ul>
<p >The definition of a <code>SurfaceMesh</code> is pretty straight forward: it only contains two child nodes named <code>Vertices</code> and <code>Triangles</code>, which contain the vertex coordinate triplets and the triangle vertex index triplets, respectively.</p>
<p >The <code>SurfaceMesh</code> chart only supports implicit boundary parameterization.</p>
<h3><a class="anchor" id="meshfile_chart_surfmesh_examples"></a>
3D SurfaceMesh Chart Examples</h3>
<p >A surface triangulation of the 3D unit cube [0,1] x [0,1] x [0,1] consisting of 8 vertices and 12 triangles: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;cube&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">SurfaceMesh</span> <span class="keyword">verts</span>=<span class="stringliteral">&quot;8&quot;</span> <span class="keyword">trias</span>=<span class="stringliteral">&quot;12&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">      0.0 0.0 1.0</div>
<div class="line">      1.0 0.0 1.0</div>
<div class="line">      1.0 1.0 1.0</div>
<div class="line">      0.0 1.0 1.0</div>
<div class="line">      0.0 0.0 0.0</div>
<div class="line">      1.0 0.0 0.0</div>
<div class="line">      1.0 1.0 0.0</div>
<div class="line">      0.0 1.0 0.0</div>
<div class="line">    &lt;/<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Triangles</span>&gt;</div>
<div class="line">      0 1 2</div>
<div class="line">      2 3 0</div>
<div class="line">      1 5 6</div>
<div class="line">      6 2 1</div>
<div class="line">      7 6 5</div>
<div class="line">      5 4 7</div>
<div class="line">      4 0 3</div>
<div class="line">      3 7 4</div>
<div class="line">      4 5 1</div>
<div class="line">      1 0 4</div>
<div class="line">      3 2 6</div>
<div class="line">      6 7 3</div>
<div class="line">    &lt;/<span class="keywordtype">Triangles</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">SurfaceMesh</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="meshfile_chart_extrude"></a>
3D Extrude Chart Description</h2>
<p >The <code>Extrude</code> chart is a wrapper chart, which "converts" a 2D chart into a 3D chart by extruding it infinitely in positive and negative Z-direction.</p>
<p >The <code>Extrude</code> chart supports the following 2D child charts:</p><ul>
<li><code>Circle</code>, see <a class="el" href="mesh_file_format.html#meshfile_chart_circle">2D Circle Chart Description</a></li>
<li><code>Bezier</code>, see <a class="el" href="mesh_file_format.html#meshfile_chart_bezier">2D Bezier Chart Description</a></li>
</ul>
<p >The <code>Extrude</code> chart supports explicit boundary parameterization if and only if its child <code>Circle</code> or <code>Bezier</code> chart supports its; but the <code>Extrude</code> chart always supports implicit boundary parameterization.</p>
<h3><a class="anchor" id="meshfile_chart_extrude_transform"></a>
Transformation</h3>
<p >The <code>Extrude</code> chart supports the three attributes <code>origin</code>, <code>offset</code> and <code>angles</code> to define a "proper rigid
transformation" (a transformation that consists only of translations and rotations) for the extruded chart. The transformation consists of two translation vectors <em>v</em> and <em>w</em> as well as a 3D rotation matrix <em>R</em>, which define the following transformation mapping:</p>
<p class="formulaDsp">
\[ x \mapsto w + R \cdot(x - v)\]
</p>
<p >Each of the three components is optional and can be specified by the following attributes:</p><ul>
<li><code>origin:</code> specifies the X- and Y-coordinates of the origin vector <em>v</em>, separated by white-spaces</li>
<li><code>offset:</code> specifies the X-, Y- and Z-coordinates of the offset vector <em>w</em>, separated by white-spaces</li>
<li><code>angles:</code> specifies the yaw, pitch and roll angles of the rotation matrix <em>R</em>, separated by white-spaces</li>
</ul>
<dl class="section attention"><dt>Attention</dt><dd>The angles are given in revolutions (aka rotations aka full turns) rather than radians or degrees to avoid angles with a large number of digits for commonly used rotations.<br  />
Note: 1 revolution = 360 degrees = 2&pi; radians</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Although using two translation vectors for a rigid transformation is redundant, this approach has been chosen as it is significantly less brain-twisting to define simple transformations this way.</dd></dl>
<h3><a class="anchor" id="meshfile_chart_extrude_examples"></a>
3D Extrude Chart Examples</h3>
<p >Extruding a 2D <code>Circle</code> chart effectively yields a 3D cylinder: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Chart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;cylinder&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Extrude</span> <span class="keyword">origin</span>=<span class="stringliteral">&quot;0.5 1.0&quot;</span> <span class="keyword">offset</span>=<span class="stringliteral">&quot;0.2 1.0 0.3&quot;</span> <span class="keyword">angles</span>=<span class="stringliteral">&quot;0.1 0.5 0.0&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">Circle</span> <span class="keyword">radius</span>=<span class="stringliteral">&quot;0.2&quot;</span> <span class="keyword">midpoint</span>=<span class="stringliteral">&quot;0.5 1.0&quot;</span>/&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">Extrude</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Chart</span>&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="meshfile_chart_CGAL_surfacemesh"></a>
3D CGAL based SurfaceMesh Chart Description</h2>
<p >The <code>CGALSurfaceMesh</code> chart represents a surface triangulation of a 3D object very similar to the SurfaceMesh chart, but is handled by the CGAL third-party package.</p>
<dl class="section attention"><dt>Attention</dt><dd>Due to several consistency problems with file paths in mesh files, it was decided to disable defining a CGAL chart in the xml file itself. If you want to use this, you are required to create CGAL mesh-part by hand. For this, suppose you already have an Atlas object created. Then simply call <div class="fragment"><div class="line"><span class="keyword">auto</span> cgal_ptr = CGALSurfaceMesh&lt;MeshType&gt;::create_cgal_surface_mesh(filename);</div>
<div class="line">atlas.add_mesh_chart(&lt;name&gt;, cgal_ptr);</div>
</div><!-- fragment --></dd></dl>
<p><b>filename</b> (mandatory): specifies the absolute path to the file that contains the geometric surface data. Has to be either an <a href="https://segeval.cs.princeton.edu/public/off_format.html">off</a> or an <a href="https://www.loc.gov/preservation/digital/formats/fdd/fdd000507.shtml">obj</a> file.</p>
<h1><a class="anchor" id="meshfile_mesh"></a>
Mesh XML Node Description</h1>
<p >The <code>Mesh</code> node defines the actual <em>root mesh</em>, i.e. the mesh that is used for the domain discretization.</p>
<dl class="section attention"><dt>Attention</dt><dd>A mesh file may contain at most one root mesh and therefore at most one <code>Mesh</code> XML node, otherwise it is ill-formed.</dd></dl>
<p>A <code>Mesh</code> node has the following attributes:</p><ul>
<li><b>type</b> (mandatory): specifies the mesh type, see <a class="el" href="mesh_file_format.html#meshfile_meshtype">Mesh Type Specification</a></li>
<li><b>size</b> (mandatory): specifies the number of mesh entities, separated by white-spaces and sorted by their dimensions</li>
</ul>
<p >A mesh is defined by two mandatory sets of information:</p><ul>
<li>The vertices, i.e. the set of all coordinate tuples for each vertex, see <a class="el" href="mesh_file_format.html#meshfile_mesh_vertices">Vertices Sub-Node Description</a></li>
<li>The topologies, i.e. the sets of all vertex indices for each face of each dimension, see <a class="el" href="mesh_file_format.html#meshfile_mesh_topology">Topology Sub-Node Description</a></li>
</ul>
<h2><a class="anchor" id="meshfile_mesh_vertices"></a>
Vertices Sub-Node Description</h2>
<p >The <code>Vertices</code> child node specifies the set of all vertices of the mesh.</p>
<p >This node does not have any attributes because:</p><ul>
<li>The number of coordinates per vertices is specified by the <b>type</b> attribute of the parent mesh node.</li>
<li>The number of vertices in the mesh is specified by the <b>size</b> attribute of the parent mesh node.</li>
</ul>
<p >Each content line of the <code>Vertices</code> node specifies the coordinate tuple for one vertex, separated by white-spaces.</p>
<p >See <a class="el" href="mesh_file_format.html#meshfile_mesh_examples">Mesh Examples</a> for examples.</p>
<h2><a class="anchor" id="meshfile_mesh_topology"></a>
Topology Sub-Node Description</h2>
<p >Each <code>Topology</code> child node specifies the topology for one entity dimension, i.e. the index tuple of all vertices adjacent to one entity (edge, triangle, etc).</p>
<p >The <code>Topology</code> node has one mandatory attribute <b>dim</b>, which specifies the dimension of the entities that the <code>Topology</code> refers to.</p>
<dl class="section attention"><dt>Attention</dt><dd>In the <a class="el" href="namespace_f_e_a_t.html" title="FEAT namespace.">FEAT</a> mesh file format, you need to specify <b>all</b> topologies up to the shape dimension of the root mesh, i.e. it is <b>not</b> sufficient to specify only the topology for the highest-dimensional shape, so there must exists exactly one <code>Topology</code> sub-node for each entity dimension &gt; 0, otherwise the mesh file is ill-formed!<br  />
<br  />
So, if you have a 3D hexahedral mesh, then you need to explicitly specify the topologies of<ul>
<li>all edges (shape dim = 1)</li>
<li>all quadrilaterals (shape dim = 2)</li>
<li>all hexahedra (shape dim = 3)</li>
</ul>
</dd></dl>
<p>See <a class="el" href="mesh_file_format.html#meshfile_mesh_examples">Mesh Examples</a> for examples.</p>
<h2><a class="anchor" id="meshfile_mesh_examples"></a>
Mesh Examples</h2>
<h3><a class="anchor" id="meshfile_mesh_examples_2d_unit_square_quad"></a>
2D Quadrilateral Unit-Square</h3>
<p >The following example shows the definition of the unit-square mesh consisting of 4 vertices, 4 edges and 1 quadrilateral: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Mesh</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;conformal:hypercube:2:2&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;4 4 1&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">    0 0</div>
<div class="line">    1 0</div>
<div class="line">    0 1</div>
<div class="line">    1 1</div>
<div class="line">  &lt;/<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">    0 1</div>
<div class="line">    2 3</div>
<div class="line">    0 2</div>
<div class="line">    1 3</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">    0 1 2 3</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Mesh</span>&gt;</div>
</div><!-- fragment --><ul>
<li>Lines 2-7: the coordinates for the four vertices of the mesh</li>
<li>Lines 8-13: the vertex indices for the four edges of the mesh</li>
<li>Lines 14-16: the vertex indices for the one and only quadrilateral of the mesh</li>
</ul>
<h3><a class="anchor" id="meshfile_mesh_examples_2d_unit_circle_tria"></a>
2D Triangle Unit-Circle</h3>
<p >The following example shows the definition of the unit-circle mesh consisting of 5 vertices, 8 edges and 4 triangles:</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">Mesh</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;conformal:simplex:2:2&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;5 8 4&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">     1  0</div>
<div class="line">     0  1</div>
<div class="line">    -1  0</div>
<div class="line">     0 -1</div>
<div class="line">     0  0</div>
<div class="line">  &lt;/<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">    0 1</div>
<div class="line">    1 2</div>
<div class="line">    2 3</div>
<div class="line">    3 0</div>
<div class="line">    0 4</div>
<div class="line">    1 4</div>
<div class="line">    2 4</div>
<div class="line">    3 4</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">    0 1 4</div>
<div class="line">    1 2 4</div>
<div class="line">    2 3 4</div>
<div class="line">    3 0 4</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Mesh</span>&gt;</div>
</div><!-- fragment --><ul>
<li>Lines 2-8: the coordinates for the five vertices of the mesh</li>
<li>Lines 9-18: the vertex indices for the eight edges of the mesh</li>
<li>Lines 19-24: the vertex indices for the four triangles of the mesh</li>
</ul>
<h3><a class="anchor" id="meshfile_mesh_examples_3d_cube_hexa"></a>
3D Hexahedral Unit-Cube</h3>
<p >The following example shows the definition of the unit-cube mesh consisting of 8 vertices, 12 edges, 6 quadrilaterals and 1 hexahedron: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Mesh</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;conformal:hypercube:3:3&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;8 12 6 1&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">    0 0 0</div>
<div class="line">    1 0 0</div>
<div class="line">    0 1 0</div>
<div class="line">    1 1 0</div>
<div class="line">    0 0 1</div>
<div class="line">    1 0 1</div>
<div class="line">    0 1 1</div>
<div class="line">    1 1 1</div>
<div class="line">  &lt;/<span class="keywordtype">Vertices</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">    0 1</div>
<div class="line">    2 3</div>
<div class="line">    4 5</div>
<div class="line">    6 7</div>
<div class="line">    0 2</div>
<div class="line">    1 3</div>
<div class="line">    4 6</div>
<div class="line">    5 7</div>
<div class="line">    0 4</div>
<div class="line">    1 5</div>
<div class="line">    2 6</div>
<div class="line">    3 7</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">    0 1 2 3</div>
<div class="line">    4 5 6 7</div>
<div class="line">    0 1 4 5</div>
<div class="line">    2 3 6 7</div>
<div class="line">    0 2 4 6</div>
<div class="line">    1 3 5 7</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;3&quot;</span>&gt;</div>
<div class="line">    0 1 2 3 4 5 6 7</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Mesh</span>&gt;</div>
</div><!-- fragment --><ul>
<li>Lines 2-11: the coordinates for the eight vertices of the mesh</li>
<li>Lines 12-25: the vertex indices for the twelve edges of the mesh</li>
<li>Lines 26-33: the vertex indices for the six quadrilaterals of the mesh</li>
<li>Lines 34-36: the vertex indices for the one and only hexahedron of the mesh</li>
</ul>
<h1><a class="anchor" id="meshfile_meshpart"></a>
MeshPart XML Node Description</h1>
<p >Mesh-parts are used to represent certain regions of interest of the root mesh such as e.g. boundary regions. In the most simple case, a mesh-part consists only of a list of vertices, edges, etc. of the root mesh that are assigned to that mesh-part. In more complex cases, mesh parts may have their own topology as well as sets of attributes that are assigned to the mesh-part's vertices and can be used for e.g. boundary parameterization.</p>
<p >A <code>MeshPart</code> node has the following attributes:</p><ul>
<li><b>name</b> (mandatory): a unique name for the mesh-part</li>
<li><b>parent</b> (mandatory): specifies the name of the parent mesh; this must be <code>"root"</code>.</li>
<li><b>size</b> (mandatory): specifies the number of mesh entities in the mesh part, separated by white-spaces and sorted by their dimension.</li>
<li><b>topology</b> (mandatory): specifies the type of the topology for the mesh part; must be one of:<ul>
<li><code>"none"</code>: the mesh part does not have a topology</li>
<li><code>"full"</code>: the full topology for the mesh-part is explicitly given</li>
<li><code>"parent"</code>: the full topology is deducted automatically from the parent mesh</li>
</ul>
</li>
<li><b>chart</b> (optional): specifies the name of the chart for the parameterization of the mesh-part.</li>
</ul>
<h2><a class="anchor" id="meshfile_meshpart_mapping"></a>
Mapping Sub-Node Description</h2>
<p >A <code>Mapping</code> child node specifies the (root) mesh entities of a particular dimension that belong to the particular mesh-part.</p>
<p >A <code>Mapping</code> child node has only one mandatory attribute <b>dim</b>, which specifies the entity dimension that this <code>Mapping</code> node refers to.</p>
<p >Each content line of a <code>Mapping</code> node contains the index of a single root mesh entity of the given dimension that is contained in this mesh part. Note that the indices don't need to be in any particular order. The number of entities in a <code>Mapping</code> node is given in the <b>size</b> attribute of the <code>MeshPart</code> node.</p>
<h2><a class="anchor" id="meshfile_meshpart_topology"></a>
Topology Description</h2>
<p >In analogy to the root mesh, also mesh-parts may have a topology defined on its entities. If the <b>topology</b> attribute of the <code>MeshPart</code> node is set to <code>full</code>, then the topology is specifies just the same way as for the root mesh.</p>
<dl class="section note"><dt>Note</dt><dd>If the <b>topology</b> attribute of the <code>MeshPart</code> node is set to <code>parent</code>, then the topology must <b>not</b> be specified explicitly by using <code>Topology</code> nodes, but it is automatically derived from the root mesh instead.</dd></dl>
<h2><a class="anchor" id="meshfile_meshpart_attribute"></a>
Attribute Description</h2>
<p >An <code>Attribute</code> node specifies a set of values (called attributes) assigned to the vertices of a mesh-part.</p>
<dl class="section attention"><dt>Attention</dt><dd>If a <code>MeshPart</code> node has at least one <code>Attribute</code> node, then it <b>must</b> specify a topology for the mesh-part. The topology may be either given explicitly or it may be derived from the root-mesh.</dd></dl>
<p>An <code>Attribute</code> node has two attributes:</p><ul>
<li><b>name</b> (mandatory): the name of the attribute set.</li>
<li><b>dim</b> (mandatory): the dimension of an attribute, i.e. the number of values assigned to a vertex.</li>
</ul>
<p >One special case of an attribute is the parameterization, which is represented by the name <code>param</code>, which is used to define the (root mesh) vertex coordinates via the chart that the mesh-part is assigned to.</p>
<p >Another application of mesh-part attributes is the specification of certain properties for the mesh-part, e.g. a temperature distribution on a boundary part described by that mesh-part.</p>
<p >See <a class="el" href="mesh_file_format.html#meshfile_parameterization_explicit">Boundary Adaption by Explicit Parameterization</a> for a practical example of how the <code>param</code> attribute is used for the adaption of boundary vertices.</p>
<h2><a class="anchor" id="meshfile_meshpart_examples"></a>
MeshPart Examples</h2>
<h3><a class="anchor" id="meshfile_meshpart_example_unit_square_simple"></a>
2D Unit-Square Top Edge Mesh-Part</h3>
<p >The following example shows a mesh-part named <code>bnd:t</code> that consists of the two root-mesh vertices 3 and 2 as well as the root-mesh edge 1. This mesh-part is not assigned to any chart and does not have a topology. This mesh-part could be used for the <a class="el" href="mesh_file_format.html#meshfile_mesh_examples_2d_unit_square_quad">2D Quadrilateral Unit-Square</a> root mesh to represent the top boundary edge of the mesh.</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">MeshPart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;bnd:t&quot;</span> <span class="keyword">parent</span>=<span class="stringliteral">&quot;root&quot;</span> <span class="keyword">topology</span>=<span class="stringliteral">&quot;none&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;2 1&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Mapping</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;</div>
<div class="line">    2</div>
<div class="line">    3</div>
<div class="line">  &lt;/<span class="keywordtype">Mapping</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Mapping</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">    1</div>
<div class="line">  &lt;/<span class="keywordtype">Mapping</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">MeshPart</span>&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="meshfile_meshpart_example_unit_circle"></a>
2D Unit-Circle Boundary Mesh-Part</h3>
<p >The following example mesh-part represents the parameterized boundary mesh-part of the <a class="el" href="mesh_file_format.html#meshfile_mesh_examples_2d_unit_circle_tria">2D Triangle Unit-Circle</a> root mesh. This mesh-part contains four vertices, where the first one is stored duplicated for the parameterization, thus the total number of vertex indices is 5. The mesh-part contains all four boundary edges of the mesh.</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">MeshPart</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;bnd:o&quot;</span> <span class="keyword">parent</span>=<span class="stringliteral">&quot;root&quot;</span> <span class="keyword">chart</span>=<span class="stringliteral">&quot;outer&quot;</span> <span class="keyword">topology</span>=<span class="stringliteral">&quot;full&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;5 4&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Mapping</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;</div>
<div class="line">    0</div>
<div class="line">    1</div>
<div class="line">    2</div>
<div class="line">    3</div>
<div class="line">    0</div>
<div class="line">  &lt;/<span class="keywordtype">Mapping</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Mapping</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">    0</div>
<div class="line">    1</div>
<div class="line">    2</div>
<div class="line">    3</div>
<div class="line">  &lt;/<span class="keywordtype">Mapping</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Topology</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">    0 1</div>
<div class="line">    1 2</div>
<div class="line">    2 3</div>
<div class="line">    3 4</div>
<div class="line">  &lt;/<span class="keywordtype">Topology</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Attribute</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;param&quot;</span> <span class="keyword">dim</span>=<span class="stringliteral">&quot;1&quot;</span>&gt;</div>
<div class="line">    0</div>
<div class="line">    1</div>
<div class="line">    2</div>
<div class="line">    3</div>
<div class="line">    4</div>
<div class="line">  &lt;/<span class="keywordtype">Attribute</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">MeshPart</span>&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="meshfile_partition"></a>
Partition XML Node Description</h1>
<p >A <code>Partition</code> node specifies a partitioning of the root mesh into a number of patches aka sub-domains aka partitions.</p>
<p >A <code>Partition</code> node has the following attributes:</p><ul>
<li><b>size</b> (mandatory): specifies the number of patches and the number of elements of this partitioning, separated by a white-space.</li>
<li><b>name</b> (optional): specifies the name of the partitioning. If not given, the partition will remain unnamed.</li>
<li><b>level</b> (optional): specifies the refinement level of the root mesh that this partition belongs to. If not given, level 0 is assumed.</li>
<li><b>priority</b> (optional): specifies the priority of this partitioning. If not given, priority 0 is assumed.</li>
</ul>
<dl class="section remark"><dt>Remarks</dt><dd>Unless requested otherwise by the user, the <a class="el" href="class_f_e_a_t_1_1_control_1_1_domain_1_1_parti_domain_control.html" title="Recursively Partitioned Domain Control.">FEAT::Control::Domain::PartiDomainControl</a> class will go through all partitionings of all the input files that have been passed to it and it will check if any of the partitionings with a priority greater than 0 matches the number of patches that the domain controller has to create, which in the most simple case corresponds to the number of MPI processes that the application was started with. If there are multiple partitionings for the given number of patches, then it will pick the one of the ones with the highest priority. By default, the partitioner considers all partitionings of all the given input files, but it can be restricted to only consider partitioning with a specific name by explicitly stating the set of allowed partitioning names via the <code>--parti-extern-name</code> command line parameter.</dd></dl>
<h2><a class="anchor" id="meshfile_partition_patch"></a>
Patch Sub-Node Description</h2>
<p >A <code>Patch</code> node specifies the elements that belong to a specific patch/partition/sub-domain/process.</p>
<p >A <code>Patch</code> node has the following attributes:</p><ul>
<li><b>rank</b> (mandatory): specifies the rank (i.e. process number) that this patch belongs to.</li>
<li><b>size</b> (mandatory): specifies the number of elements for this patch.</li>
</ul>
<p >Each line of the <code>Patch</code> node specifies the index of one element that belongs to this patch.</p>
<h2><a class="anchor" id="meshfile_partition_examples"></a>
Partition Examples</h2>
<h3><a class="anchor" id="meshfile_partition_examples_unit_circle_tria"></a>
2D Unit-Circle Partitions</h3>
<p >The following partition is defined on the <a class="el" href="mesh_file_format.html#meshfile_mesh_examples_2d_unit_circle_tria">2D Triangle Unit-Circle</a> and subdivides the domain into 2 patches with 2 elements each. </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Partition</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;auto&quot;</span> <span class="keyword">priority</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">level</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;2 4&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Patch</span> <span class="keyword">rank</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">    0</div>
<div class="line">    1</div>
<div class="line">  &lt;/<span class="keywordtype">Patch</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Patch</span> <span class="keyword">rank</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">    2</div>
<div class="line">    3</div>
<div class="line">  &lt;/<span class="keywordtype">Patch</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Partition</span>&gt;</div>
</div><!-- fragment --><h3><a class="anchor" id="meshfile_partition_examples_unit_square_quad"></a>
2D Unit-Square Partitions</h3>
<p >The following partition is defined on the once refined <a class="el" href="mesh_file_format.html#meshfile_mesh_examples_2d_unit_square_quad">2D Quadrilateral Unit-Square</a> and subdivides the domain into 2 patches with 2 elements each. </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">Partition</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;auto&quot;</span> <span class="keyword">priority</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">level</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;2 4&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Patch</span> <span class="keyword">rank</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">    0</div>
<div class="line">    1</div>
<div class="line">  &lt;/<span class="keywordtype">Patch</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">Patch</span> <span class="keyword">rank</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">size</span>=<span class="stringliteral">&quot;2&quot;</span>&gt;</div>
<div class="line">    2</div>
<div class="line">    3</div>
<div class="line">  &lt;/<span class="keywordtype">Patch</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">Partition</span>&gt;</div>
</div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Peter Zajac, Jordi Paul </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
